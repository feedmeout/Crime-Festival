<!DOCTYPE html>
<html lang="el">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Τεκμήριο Ξεκλειδώθηκε</title>
    
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
            min-height: 100vh;
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
            position: relative;
            overflow-x: hidden;
        }

        .animated-background {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            opacity: 0.1;
            background-image: repeating-linear-gradient(45deg, transparent, transparent 35px, rgba(255,107,0,0.5) 35px, rgba(255,107,0,0.5) 70px);
            animation: slide 20s linear infinite;
        }

        @keyframes slide {
            0% { transform: translateX(0); }
            100% { transform: translateX(70px); }
        }

        @keyframes unlock {
            0% { transform: scale(0) rotate(-180deg); opacity: 0; }
            50% { transform: scale(1.2) rotate(10deg); }
            100% { transform: scale(1) rotate(0deg); opacity: 1; }
        }

        .header {
            background: linear-gradient(135deg, #ff6b00 0%, #ff8800 100%);
            padding: 20px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.5);
            position: relative;
            z-index: 10;
        }

        .header-content {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            margin-bottom: 10px;
        }

        .check-icon {
            width: 32px;
            height: 32px;
            color: #fff;
            animation: unlock 0.6s ease-out;
        }

        .header h1 {
            color: #fff;
            font-size: 24px;
            font-weight: bold;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }

        .header p {
            color: #fff;
            text-align: center;
            opacity: 0.9;
            font-size: 14px;
        }

        @media (max-width: 768px) {
            .header h1 {
                font-size: 18px;
            }
            .check-icon {
                width: 24px;
                height: 24px;
            }
            .header {
                padding: 15px 10px;
            }
            .header p {
                font-size: 12px;
            }
        }

        .container {
            padding: 20px;
            position: relative;
            z-index: 1;
            max-width: 1200px;
            margin: 0 auto;
        }

        @media (max-width: 768px) {
            .container {
                padding: 10px;
            }
        }

        .evidence-card {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 15px;
            box-shadow: 0 10px 40px rgba(0,0,0,0.3);
            overflow: hidden;
            border: 3px solid #ff6b00;
        }

        @media (max-width: 768px) {
            .evidence-card {
                border-radius: 10px;
                border: 2px solid #ff6b00;
            }
        }

        .badge-bar {
            background: linear-gradient(135deg, #1a1a2e 0%, #0f3460 100%);
            padding: 15px 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
            gap: 10px;
        }

        @media (max-width: 768px) {
            .badge-bar {
                padding: 12px 15px;
                flex-direction: column;
                align-items: flex-start;
            }
        }

        .badge-info {
            flex: 1;
        }

        .evidence-id {
            font-size: 28px;
            font-weight: bold;
            color: #ff6b00;
            font-family: monospace;
            letter-spacing: 2px;
        }

        @media (max-width: 768px) {
            .evidence-id {
                font-size: 22px;
                letter-spacing: 1px;
            }
        }

        .official-badge {
            background: rgba(255,107,0,0.2);
            border: 2px solid #ff6b00;
            border-radius: 8px;
            padding: 8px 15px;
            font-size: 11px;
            color: #ff6b00;
            font-weight: bold;
        }

        @media (max-width: 768px) {
            .official-badge {
                font-size: 9px;
                padding: 6px 10px;
                align-self: flex-start;
            }
        }

        .crime-scene-photo {
            background: #000;
            position: relative;
            display: flex;
            justify-content: center;
            align-items: center;
            border-top: 2px solid #333;
            border-bottom: 2px solid #333;
            overflow: hidden;
        }

        #crimeSceneCanvas {
            width: 100%;
            max-width: 800px;
            height: auto;
            display: block;
        }

        @media (max-width: 768px) {
            .crime-scene-photo {
                border-top: 1px solid #333;
                border-bottom: 1px solid #333;
            }
        }

        .confidential-badge {
            position: absolute;
            top: 10px;
            right: 10px;
            background: rgba(255,0,0,0.9);
            color: white;
            padding: 5px 10px;
            font-size: 11px;
            font-weight: bold;
            border-radius: 5px;
            border: 1px solid #fff;
        }

        @media (max-width: 768px) {
            .confidential-badge {
                font-size: 9px;
                padding: 4px 8px;
                top: 5px;
                right: 5px;
            }
        }

        .ar-container {
            margin: 20px 0;
            padding: 20px;
            background: linear-gradient(135deg, rgba(255,107,0,0.05) 0%, rgba(255,136,0,0.05) 100%);
            border: 2px solid #ff6b00;
            border-radius: 10px;
        }

        .ar-title {
            font-size: 18px;
            color: #ff6b00;
            font-weight: bold;
            margin: 0 0 15px 0;
            text-align: center;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
        }

        @media (max-width: 768px) {
            .ar-title {
                font-size: 16px;
            }
            .ar-container {
                padding: 15px;
                margin: 15px 0;
            }
        }

        .details {
            padding: 30px;
            background: linear-gradient(to bottom, #ffffff 0%, #f8f9fa 100%);
        }

        @media (max-width: 768px) {
            .details {
                padding: 20px;
            }
        }

        .evidence-title {
            margin: 0 0 25px 0;
            font-size: 24px;
            color: #1a1a2e;
            border-bottom: 3px solid #ff6b00;
            padding-bottom: 15px;
            font-weight: 700;
            display: flex;
            align-items: center;
            gap: 12px;
        }

        @media (max-width: 768px) {
            .evidence-title {
                font-size: 20px;
                margin: 0 0 20px 0;
                gap: 10px;
            }
        }

        .section {
            margin-bottom: 25px;
            background: white;
            padding: 20px;
            border-radius: 10px;
            border: 1px solid #e0e0e0;
            box-shadow: 0 2px 6px rgba(0,0,0,0.05);
        }

        .section-title {
            font-size: 18px;
            color: #0f3460;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 10px;
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            border-bottom: 2px solid #e0e0e0;
            padding-bottom: 10px;
        }

        @media (max-width: 768px) {
            .section-title {
                font-size: 16px;
                gap: 8px;
            }
        }

        .section-content {
            font-size: 15px;
            line-height: 1.8;
            color: #333;
            text-align: justify;
        }

        .section-content p {
            margin: 0;
        }

        @media (max-width: 768px) {
            .section-content {
                font-size: 14px;
            }
        }

        ul {
            padding-left: 25px;
            line-height: 2;
        }

        ul li {
            margin-bottom: 8px;
        }

        @media (max-width: 768px) {
            ul {
                padding-left: 20px;
                line-height: 1.8;
            }
        }

        .receipt-box {
            background: linear-gradient(135deg, #ffffff 0%, #f8f9fa 100%);
            border: 3px solid #dc3545;
            border-radius: 10px;
            padding: 20px;
            margin-bottom: 20px;
            box-shadow: 0 4px 12px rgba(220,53,69,0.15);
            font-family: 'Courier New', monospace;
        }

        .receipt-header {
            text-align: center;
            border-bottom: 2px dashed #333;
            padding-bottom: 15px;
            margin-bottom: 15px;
        }

        .receipt-company {
            font-size: 18px;
            font-weight: bold;
            color: #1a1a2e;
            margin-bottom: 5px;
        }

        .receipt-details {
            font-size: 12px;
            color: #666;
        }

        .receipt-item {
            display: flex;
            justify-content: space-between;
            padding: 8px 0;
            border-bottom: 1px solid #e0e0e0;
        }

        .receipt-item.critical {
            background: rgba(220,53,69,0.1);
            padding: 12px;
            margin: 10px -10px;
            border-radius: 5px;
            font-weight: bold;
            border: 2px solid #dc3545;
        }

        .receipt-label {
            color: #333;
            font-size: 14px;
        }

        .receipt-value {
            color: #1a1a2e;
            font-weight: 600;
            font-size: 14px;
        }

        .receipt-total {
            margin-top: 15px;
            padding-top: 15px;
            border-top: 2px solid #333;
            display: flex;
            justify-content: space-between;
            font-size: 16px;
            font-weight: bold;
        }

        .signature-box {
            margin-top: 20px;
            padding: 15px;
            background: rgba(255,107,0,0.05);
            border: 2px dashed #ff6b00;
            border-radius: 8px;
        }

        .signature-label {
            font-size: 12px;
            color: #666;
            margin-bottom: 10px;
        }

        .signature-name {
            font-size: 16px;
            font-weight: bold;
            color: #1a1a2e;
            font-style: italic;
        }

        @media (max-width: 768px) {
            .receipt-box {
                padding: 15px;
            }
            
            .receipt-company {
                font-size: 16px;
            }
            
            .receipt-item {
                font-size: 13px;
            }
        }

        .significance-box {
            background: linear-gradient(135deg, #fff5f0 0%, #ffe8db 100%);
            border: 2px solid #ff6b00;
            border-radius: 12px;
            padding: 25px;
            margin-bottom: 25px;
            box-shadow: 0 4px 12px rgba(255,107,0,0.1);
        }

        .significance-title {
            font-size: 18px;
            color: #ff6b00;
            margin: 0 0 15px 0;
            display: flex;
            align-items: center;
            gap: 10px;
            font-weight: 700;
        }

        @media (max-width: 768px) {
            .significance-box {
                padding: 20px;
                margin-bottom: 20px;
            }
            
            .significance-title {
                font-size: 16px;
            }
        }

        .significance-text {
            font-size: 15px;
            line-height: 1.8;
            color: #1a1a2e;
            margin: 0;
            text-align: justify;
        }

        @media (max-width: 768px) {
            .significance-text {
                font-size: 14px;
            }
        }
    </style>
</head>
<body>
    <div class="animated-background"></div>

    <div class="header">
        <div class="header-content">
            <svg class="check-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"></path>
                <polyline points="22 4 12 14.01 9 11.01"></polyline>
            </svg>
            <h1>ΤΕΚΜΗΡΙΟ ΞΕΚΛΕΙΔΩΘΗΚΕ!</h1>
        </div>
        <p>Προστέθηκε στον φάκελο υπόθεσης</p>
    </div>

    <div class="container">
        <div class="evidence-card">
            <div class="badge-bar">
                <div class="badge-info">
                    <div class="evidence-id">ΤΕΚ #009</div>
                </div>
                <div class="official-badge">ΕΠΙΣΗΜΟ ΤΕΚΜΗΡΙΟ</div>
            </div>

            <div class="crime-scene-photo">
                <canvas id="crimeSceneCanvas"></canvas>
                <div class="confidential-badge">ΑΠΟΡΡΗΤΟ</div>
            </div>

            <div class="ar-container">
                <h3 class="ar-title">
                    <span style="font-size: 24px;">🧾</span>
                    ΑΠΟΔΕΙΞΗ ΑΓΟΡΑΣ ΧΗΜΙΚΩΝ
                </h3>
                
                <div class="receipt-box">
                    <div class="receipt-header">
                        <div class="receipt-company">ΧΗΜΙΚΑ PLUS Α.Ε.</div>
                        <div class="receipt-details">
                            Λεωφ. Κηφισίας 247, Χαλάνδρι 152 32<br>
                            ΑΦΜ: 094523871 | ΔΟΥ: Χαλανδρίου<br>
                            Τηλ: 210-6847321
                        </div>
                    </div>

                    <div class="receipt-item">
                        <span class="receipt-label">Αριθμός Απόδειξης:</span>
                        <span class="receipt-value">#CH-2025-09847-KCN</span>
                    </div>

                    <div class="receipt-item">
                        <span class="receipt-label">Ημερομηνία:</span>
                        <span class="receipt-value">19/09/2025 - 14:30</span>
                    </div>

                    <div class="receipt-item">
                        <span class="receipt-label">Πωλητής:</span>
                        <span class="receipt-value">Α. Κωνσταντινίδης</span>
                    </div>

                    <div style="margin: 20px 0; padding: 15px 0; border-top: 2px dashed #333; border-bottom: 2px dashed #333;">
                        <div class="receipt-item critical">
                            <span class="receipt-label">ΠΡΟΪΟΝ:</span>
                            <span class="receipt-value">Κυανιούχο Κάλιο (KCN)</span>
                        </div>

                        <div class="receipt-item">
                            <span class="receipt-label">Ποσότητα:</span>
                            <span class="receipt-value">500g</span>
                        </div>

                        <div class="receipt-item">
                            <span class="receipt-label">Τιμή Μονάδας:</span>
                            <span class="receipt-value">€42.00</span>
                        </div>

                        <div class="receipt-item">
                            <span class="receipt-label">Κωδικός Προϊόντος:</span>
                            <span class="receipt-value">KCN-500-IND</span>
                        </div>

                        <div class="receipt-item">
                            <span class="receipt-label">Κατηγορία Άδειας:</span>
                            <span class="receipt-value">Απεντόμωση Επαγγελματική</span>
                        </div>
                    </div>

                    <div class="receipt-total">
                        <span>ΣΥΝΟΛΟ:</span>
                        <span>€42.00</span>
                    </div>

                    <div class="receipt-item" style="margin-top: 10px;">
                        <span class="receipt-label">Μέθοδος Πληρωμής:</span>
                        <span class="receipt-value">Μετρητά</span>
                    </div>

                    <div class="signature-box">
                        <div class="signature-label">Υπογραφή Αγοραστή:</div>
                        <div class="signature-name">Γ. Πετρόπουλος</div>
                        <div style="margin-top: 10px; font-size: 11px; color: #999;">
                            Άδεια Απεντόμωσης: ΑΠ-2024-15873<br>
                            Εταιρεία: SecureGuard Υπηρεσίες Ασφαλείας
                        </div>
                    </div>
                </div>

                <div style="margin-top: 20px; padding: 15px; background: rgba(220,53,69,0.05); border: 2px solid #dc3545; border-radius: 8px;">
                    <div style="display: flex; align-items: center; gap: 10px; margin-bottom: 10px;">
                        <span style="font-size: 24px;"></span>
                        <strong style="color: #dc3545; font-size: 15px;">ΠΑΡΑΤΗΡΗΣΗ</strong>
                    </div>
                    <p style="font-size: 14px; color: #666; margin: 0; line-height: 1.6;">
                        Η αγορά έγινε 3 ημέρες πριν τον θάνατο του Δημητρίου. Η γραφολογική ανάλυση δείχνει <strong style="color: #dc3545;">78% ταύτιση</strong> με την υπογραφή του Πετρόπουλου, αλλά εντοπίστηκαν μικροδιαφορές που μπορεί να υποδηλώνουν άγχος ή προσπάθεια μίμησης.
                    </p>
                </div>
            </div>

            <div class="details">
                <h2 class="evidence-title">🧾 ΑΠΟΔΕΙΞΗ ΑΓΟΡΑΣ ΧΗΜΙΚΩΝ</h2>

                <div class="section">
                    <h3 class="section-title">
                        <span style="font-size: 24px;">🔬</span>
                        Γραφολογική & Τεχνική Ανάλυση
                    </h3>
                    <div class="section-content">
                        <p style="margin-bottom: 15px;">
                            <strong>Κατάσταση Εγγράφου:</strong> Η απόδειξη βρέθηκε στο λογιστήριο, μέσα σε φάκελο με τίτλο «Λογαριασμοί Συντήρησης - Σεπτέμβριος 2025». Το έγγραφο ήταν διπλωμένο και φαινόταν να έχει χειριστεί πολλές φορές, με ελαφρές φθορές στις άκρες και ένα σημάδι από φλιτζάνι καφέ στην επάνω δεξιά γωνία.
                        </p>
                        <p style="margin-bottom: 15px;">
                            <strong>Γραφολογική Εξέταση:</strong> Η υπογραφή «Γ. Πετρόπουλος» αναλύθηκε από πιστοποιημένο γραφολόγο. Προκαταρκτικά ευρήματα δείχνουν 78% πιθανότητα ταύτισης με γνωστά δείγματα υπογραφής του Πετρόπουλου Γεωργίου από επίσημα έγγραφα απασχόλησης. Εντοπίστηκαν μικροδιαφορές στην πίεση του στυλό και στην κλίση ορισμένων γραμμάτων, που θα μπορούσαν να υποδηλώνουν άγχος κατά την υπογραφή ή απλώς διαφορετικές συνθήκες γραφής (όρθιος vs καθιστός). Ωστόσο, τα χαρακτηριστικά βασικά στοιχεία της υπογραφής - το διακριτικό «Γ» και η ροή του επωνύμου - είναι συνεπή.
                        </p>
                        <p style="margin-bottom: 15px;">
                            <strong>Χρονολόγηση:</strong> Η αγορά έγινε στις 19/09/2025 στις 14:30 - δηλαδή 3 ημέρες πριν από το θάνατο του Δημητρίου Πέτρου. Αυτό το χρονικό πλαίσιο θα επέτρεπε επαρκή προετοιμασία και σχεδιασμό. Ενδιαφέρον είναι ότι αυτή η συγκεκριμένη ημέρα ήταν Παρασκευή απόγευμα, όταν το κατάστημα είναι συνήθως πολυσύχναστο, γεγονός που θα μπορούσε να βοηθήσει κάποιον να περάσει απαρατήρητος ανάμεσα σε πολλούς πελάτες.
                        </p>
                        <p>
                            <strong>Δακτυλικά Αποτυπώματα:</strong> Εντοπίστηκαν τρία διαφορετικά σετ αποτυπωμάτων στο έγγραφο. Τα κύρια ανήκουν στον Πετρόπουλο Γεώργιο (αντίχειρας και δείκτης δεξιό χέρι). Δευτερεύοντα αποτυπώματα ταυτίστηκαν με τον πωλητή Α. Κωνσταντινίδη (φυσιολογικό κατά το χειρισμό). Ένα τρίτο σετ μερικών αποτυπωμάτων παραμένει αταυτοποίητο προς το παρόν - πιθανώς από κάποιον που χειρίστηκε το έγγραφο στο λογιστήριο.
                        </p>
                    </div>
                </div>

                <div class="section">
                    <h3 class="section-title">
                        <span style="font-size: 24px;">📋</span>
                        Νομική Άδεια & Διαδικασίες
                    </h3>
                    <div class="section-content">
                        <p style="margin-bottom: 15px;">
                            <strong>Νομιμότητα Αγοράς:</strong> Το κυανιούχο κάλιο είναι ελεγχόμενη ουσία στην Ελλάδα και απαιτεί ειδική άδεια για την αγορά του. Ο Πετρόπουλος Γεώργιος, ως υπεύθυνος ασφαλείας και συντήρησης κτιρίου, κατείχε νόμιμη άδεια απεντόμωσης (ΑΠ-2024-15873) που εκδόθηκε τον Φεβρουάριο 2024 με ισχύ 2 ετών. Η άδεια επιτρέπει την αγορά συγκεκριμένων χημικών, συμπεριλαμβανομένου του KCN, για σκοπούς επαγγελματικής απεντόμωσης.
                        </p>
                        <p style="margin-bottom: 15px;">
                            <strong>Διαδικασία Επαλήθευσης:</strong> Σύμφωνα με τις καταστατικές υποχρεώσεις του «ΧημικάPlus», ο πωλητής θα έπρεπε να επαληθεύσει την άδεια, να καταγράψει τα στοιχεία ταυτότητας του αγοραστή, και να κρατήσει αντίγραφο της άδειας στο αρχείο. Ο καταναλωτής επίσης υπογράφει δήλωση σκοπού χρήσης. Επικοινωνήσαμε με το κατάστημα και επιβεβαίωσαν ότι ακολουθήθηκαν όλες οι διαδικασίες. Ωστόσο, η δήλωση σκοπού χρήσης αναφέρει γενικά «απεντόμωση χώρων εταιρείας» χωρίς περαιτέρω λεπτομέρειες.
                        </p>
                        <p>
                            <strong>Ιστορικό Αγορών:</strong> Έλεγχος στα αρχεία του καταστήματος αποκάλυψε ότι ο Πετρόπουλος είχε πραγματοποιήσει δυο προηγούμενες αγορές χημικών απεντόμωσης τους τελευταίους 18 μήνες - μία τον Απρίλιο 2024 (διάφορα εντομοκτόνα) και μία τον Νοέμβριο 2024 (ποντικοφάρμακα). Το ιστορικό ενισχύει την εικόνα συνήθους επαγγελματικής χρήσης, αλλά είναι η πρώτη φορά που αγοράζει KCN συγκεκριμένα.
                        </p>
                    </div>
                </div>

                <div class="significance-box">
                    <h3 class="significance-title">
                        <span style="font-size: 20px;">💡</span>
                        ΣΗΜΑΣΙΑ ΓΙΑ ΤΗΝ ΕΡΕΥΝΑ
                    </h3>
                    <p class="significance-text">
                        Η απόδειξη συνδέει άμεσα τον Πετρόπουλο με την αγορά του θανατηφόρου δηλητηρίου - του ίδιου ακριβώς τύπου που βρέθηκε στο μπουκάλι του Δημητρίου. Το χρονικό πλαίσιο (3 ημέρες πριν) παρέχει επαρκή χρόνο για προετοιμασία. Ωστόσο, υπάρχουν κρίσιμα ερωτήματα που παραμένουν αναπάντητα. Η αγορά ήταν νόμιμη και ο Πετρόπουλος είχε επίσημη άδεια - δεν το έκρυψε. Από την άλλη, γιατί χρειαζόταν κυάνιο για απεντόμωση; Υπάρχουν πολύ πιο κοινά και ασφαλέστερα εντομοκτόνα. Ήταν πραγματικά για την εργασία του ή απλώς μια κάλυψη; Η γραφολογική ανάλυση δείχνει 78% ταύτιση - υψηλό ποσοστό αλλά όχι απόλυτη βεβαιότητα. Οι μικροδιαφορές μπορεί να σημαίνουν άγχος κατά την υπογραφή, ή μήπως κάποιος προσπάθησε να μιμηθεί την υπογραφή του Πετρόπουλου με αρκετή επιδεξιότητα;
                    </p>
                </div>

                <div class="section">
                    <h3 class="section-title">
                        <span style="font-size: 24px;">❓</span>
                        Βασικά Ερωτήματα Διερεύνησης
                    </h3>
                    <ul class="section-content">
                        <li>Ο Πετρόπουλος είχε όντως επαγγελματική ανάγκη για KCN ή ήταν πρόφαση για να το αποκτήσει νόμιμα;</li>
                        <li>Πώς κατέληξε η απόδειξη στο λογιστήριο και όχι στα προσωπικά αρχεία του Πετρόπουλου; Ποιος είχε πρόσβαση στον φάκελο;</li>
                        <li>Τα αταυτοποίητα δακτυλικά αποτυπώματα ανήκουν σε κάποιον που απλώς χειρίστηκε το έγγραφο ρουτίνας ή σε κάποιον που το τοποθέτησε σκόπιμα εκεί;</li>
                    </ul>
                </div>
            </div>
        </div>
    </div>

    <div style="text-align: center; padding: 20px; background: rgba(0,0,0,0.05); position: relative; z-index: 100;">
        <button onclick="window.goBackToCaseFile()" 
                style="background: linear-gradient(135deg, #ff6b00 0%, #ff8800 100%); 
                       color: white; 
                       padding: 15px 40px; 
                       border: none; 
                       border-radius: 10px; 
                       font-size: 16px; 
                       font-weight: bold; 
                       cursor: pointer; 
                       box-shadow: 0 4px 12px rgba(255,107,0,0.3);
                       position: relative;
                       z-index: 101;
                       pointer-events: auto;">
            ← ΕΠΙΣΤΡΟΦΗ ΣΤΟ ΦΑΚΕΛΟ
        </button>
    </div>

    <script>
        window.goBackToCaseFile = function() {
            const teamCode = sessionStorage.getItem('teamCode');
            console.log('🔙 Button clicked! Team:', teamCode);
            
            if (teamCode) {
                window.location.href = `index.html?team=${teamCode}&tab=evidence`;
            } else {
                window.location.href = 'index.html?tab=evidence';
            }
        };

        function drawCrimeScene() {
            const canvas = document.getElementById('crimeSceneCanvas');
            const ctx = canvas.getContext('2d');
            
            canvas.width = 800;
            canvas.height = 600;
            
            const floorGradient = ctx.createLinearGradient(0, 0, 0, 600);
            floorGradient.addColorStop(0, '#8b7355');
            floorGradient.addColorStop(0.5, '#7a6348');
            floorGradient.addColorStop(1, '#6b5345');
            ctx.fillStyle = floorGradient;
            ctx.fillRect(0, 0, 800, 600);
            
            ctx.strokeStyle = 'rgba(101, 67, 33, 0.2)';
            ctx.lineWidth = 1.5;
            for (let i = 0; i < 600; i += 35) {
                ctx.beginPath();
                ctx.moveTo(0, i);
                ctx.bezierCurveTo(200, i + Math.random() * 8, 600, i - Math.random() * 8, 800, i + Math.random() * 5);
                ctx.stroke();
            }

            for (let i = 0; i < 5; i++) {
                const x = Math.random() * 800;
                const y = Math.random() * 600;
                ctx.fillStyle = 'rgba(80, 50, 30, 0.15)';
                ctx.beginPath();
                ctx.ellipse(x, y, 15 + Math.random() * 10, 8 + Math.random() * 5, Math.random() * Math.PI, 0, Math.PI * 2);
                ctx.fill();
            }

            const receiptX = 100;
            const receiptY = 50;
            const receiptWidth = 600;
            const receiptHeight = 540;

            ctx.fillStyle = 'rgba(0, 0, 0, 0.25)';
            ctx.beginPath();
            ctx.roundRect(receiptX + 8, receiptY + 8, receiptWidth, receiptHeight, 4);
            ctx.fill();
            ctx.fillStyle = 'rgba(0, 0, 0, 0.15)';
            ctx.beginPath();
            ctx.roundRect(receiptX + 5, receiptY + 5, receiptWidth, receiptHeight, 4);
            ctx.fill();
            
            const paperGradient = ctx.createLinearGradient(receiptX, receiptY, receiptX + receiptWidth, receiptY);
            paperGradient.addColorStop(0, '#fafafa');
            paperGradient.addColorStop(0.5, '#ffffff');
            paperGradient.addColorStop(1, '#f8f8f8');
            ctx.fillStyle = paperGradient;
            ctx.beginPath();
            ctx.roundRect(receiptX, receiptY, receiptWidth, receiptHeight, 4);
            ctx.fill();
            ctx.strokeStyle = '#e0e0e0';
            ctx.lineWidth = 1;
            ctx.beginPath();
            ctx.roundRect(receiptX, receiptY, receiptWidth, receiptHeight, 4);
            ctx.stroke();
            
            ctx.setLineDash([4, 4]);
            ctx.strokeStyle = '#bbb';
            ctx.lineWidth = 1.5;
            ctx.beginPath();
            ctx.moveTo(receiptX + 20, receiptY + 20);
            ctx.lineTo(receiptX + receiptWidth - 20, receiptY + 20);
            ctx.stroke();
            ctx.setLineDash([]);
            
            const logoGradient = ctx.createLinearGradient(receiptX + 30, receiptY + 30, receiptX + receiptWidth - 30, receiptY + 30);
            logoGradient.addColorStop(0, '#ff6b00');
            logoGradient.addColorStop(1, '#ff8800');
            ctx.fillStyle = logoGradient;
            ctx.beginPath();
            ctx.roundRect(receiptX + 30, receiptY + 35, receiptWidth - 60, 55, 6);
            ctx.fill();
            ctx.fillStyle = '#ffffff';
            ctx.font = 'bold 24px Arial';
            ctx.textAlign = 'center';
            ctx.fillText('ΧΗΜΙΚΑ PLUS Α.Ε.', receiptX + receiptWidth / 2, receiptY + 65);
            ctx.font = '11px Arial';
            ctx.fillText('Λεωφ. Κηφισίας 247, Χαλάνδρι 152 32', receiptX + receiptWidth / 2, receiptY + 82);
            ctx.fillStyle = '#555';
            ctx.font = '10px Arial';
            ctx.fillText('ΑΦΜ: 094523871 | ΔΟΥ: Χαλανδρίου | Τηλ: 210-6847321', receiptX + receiptWidth / 2, receiptY + 105);
            
            ctx.strokeStyle = '#ddd';
            ctx.lineWidth = 1;
            ctx.beginPath();
            ctx.moveTo(receiptX + 30, receiptY + 115);
            ctx.lineTo(receiptX + receiptWidth - 30, receiptY + 115);
            ctx.stroke();
            
            ctx.fillStyle = '#333';
            ctx.font = '11px monospace';
            ctx.textAlign = 'left';
            
            let yPos = receiptY + 135;
            ctx.fillText('Αριθμός Απόδειξης: #CH-2025-09847', receiptX + 40, yPos);
            yPos += 18;
            ctx.fillText('Ημερομηνία: 19/09/2025 - 14:30', receiptX + 40, yPos);
            yPos += 18;
            ctx.fillText('Πωλητής: Α. Κωνσταντινίδης', receiptX + 40, yPos);
            yPos += 18;
            
            ctx.setLineDash([2, 2]);
            ctx.strokeStyle = '#ccc';
            ctx.beginPath();
            ctx.moveTo(receiptX + 30, yPos + 5);
            ctx.lineTo(receiptX + receiptWidth - 30, yPos + 5);
            ctx.stroke();
            ctx.setLineDash([]);
            yPos += 20;
            
            ctx.fillStyle = 'rgba(220, 53, 69, 0.08)';
            ctx.beginPath();
            ctx.roundRect(receiptX + 25, yPos - 10, receiptWidth - 50, 90, 6);
            ctx.fill();
            ctx.strokeStyle = 'rgba(220, 53, 69, 0.3)';
            ctx.lineWidth = 2;
            ctx.beginPath();
            ctx.roundRect(receiptX + 25, yPos - 10, receiptWidth - 50, 90, 6);
            ctx.stroke();
            
            ctx.fillStyle = '#dc3545';
            ctx.font = 'bold 20px Arial';
            ctx.textAlign = 'left';
            ctx.fillText('⚠️', receiptX + 35, yPos + 10);
            ctx.fillStyle = '#c00';
            ctx.font = 'bold 15px Arial';
            ctx.textAlign = 'left';
            ctx.fillText('ΚΥΑΝΙΟΥΧΟ ΚΑΛΙΟ (KCN)', receiptX + 60, yPos + 10);
            yPos += 25;
            
            ctx.fillStyle = '#333';
            ctx.font = '11px monospace';
            ctx.fillText('Ποσότητα:', receiptX + 60, yPos);
            ctx.font = 'bold 11px monospace';
            ctx.textAlign = 'right';
            ctx.fillText('500g', receiptX + receiptWidth - 60, yPos);
            yPos += 18;
            ctx.textAlign = 'left';
            ctx.font = '11px monospace';
            ctx.fillText('Τιμή Μονάδας:', receiptX + 60, yPos);
            ctx.font = 'bold 11px monospace';
            ctx.textAlign = 'right';
            ctx.fillText('€42.00', receiptX + receiptWidth - 60, yPos);
            yPos += 18;
            ctx.textAlign = 'left';
            ctx.font = '10px monospace';
            ctx.fillStyle = '#666';
            ctx.fillText('Κωδικός: KCN-500-IND', receiptX + 60, yPos);
            yPos += 20;
            
            ctx.setLineDash([2, 2]);
            ctx.strokeStyle = '#ccc';
            ctx.beginPath();
            ctx.moveTo(receiptX + 30, yPos);
            ctx.lineTo(receiptX + receiptWidth - 30, yPos);
            ctx.stroke();
            ctx.setLineDash([]);
            yPos += 20;
            
            ctx.fillStyle = '#1a1a2e';
            ctx.font = 'bold 14px Arial';
            ctx.textAlign = 'left';
            ctx.fillText('ΣΥΝΟΛΟ:', receiptX + 40, yPos);
            ctx.textAlign = 'right';
            ctx.font = 'bold 16px Arial';
            ctx.fillText('€42.00', receiptX + receiptWidth - 40, yPos);
            yPos += 25;
            
            ctx.fillStyle = '#555';
            ctx.font = '10px Arial';
            ctx.textAlign = 'left';
            ctx.fillText('Μέθοδος Πληρωμής: Μετρητά', receiptX + 40, yPos);
            yPos += 25;
            
            ctx.fillStyle = 'rgba(255, 107, 0, 0.12)';
            ctx.fillRect(receiptX + 30, yPos, receiptWidth - 60, 50);
            ctx.strokeStyle = '#ff8800';
            ctx.lineWidth = 2;
            ctx.strokeRect(receiptX + 30, yPos, receiptWidth - 60, 50);
            yPos += 18;
            
            ctx.fillStyle = '#444';
            ctx.font = 'bold 11px Arial';
            ctx.textAlign = 'left';
            ctx.fillText('Άδεια Απεντόμωσης: ΑΠ-2024-15873', receiptX + 40, yPos);
            yPos += 16;
            ctx.font = '10px Arial';
            ctx.fillStyle = '#555';
            ctx.fillText('Εταιρεία: SecureGuard Υπηρεσίες Ασφαλείας', receiptX + 40, yPos);
            yPos += 30;
            
            ctx.setLineDash([3, 3]);
            ctx.strokeStyle = '#ddd';
            ctx.lineWidth = 1;
            ctx.beginPath();
            ctx.moveTo(receiptX + 30, yPos);
            ctx.lineTo(receiptX + receiptWidth - 30, yPos);
            ctx.stroke();
            ctx.setLineDash([]);
            yPos += 20;
            
            ctx.strokeStyle = '#333';
            ctx.lineWidth = 1;
            ctx.beginPath();
            ctx.moveTo(receiptX + 80, yPos);
            ctx.lineTo(receiptX + receiptWidth - 80, yPos);
            ctx.stroke();
            ctx.fillStyle = '#1a1a2e';
            ctx.font = 'italic bold 20px cursive';
            ctx.textAlign = 'center';
            ctx.fillText('Γ. Πετρόπουλος', receiptX + receiptWidth / 2, yPos - 8);
            yPos += 15;
            ctx.fillStyle = '#777';
            ctx.font = '9px Arial';
            ctx.fillText('Υπογραφή Αγοραστή', receiptX + receiptWidth / 2, yPos);
            yPos += 25;
            
            const barcodeWidth = 300;
            const barcodeX = receiptX + (receiptWidth - barcodeWidth) / 2;
            ctx.fillStyle = '#000';
            ctx.fillRect(barcodeX, yPos, barcodeWidth, 2);
            yPos += 4;
            
            const seed = 12345;
            let random = seed;
            for (let i = 0; i < 60; i++) {
                random = (random * 9301 + 49297) % 233280;
                const barWidth = (random % 3) + 1;
                const spacing = i * 5;
                ctx.fillRect(barcodeX + spacing, yPos, barWidth, 25);
            }
            
            yPos += 32;
            ctx.fillStyle = '#666';
            ctx.font = '10px monospace';
            ctx.textAlign = 'center';
            ctx.fillText('CH-2025-09847-KCN', receiptX + receiptWidth / 2, yPos);
            
            ctx.fillStyle = 'rgba(0, 0, 0, 0.75)';
            ctx.fillRect(0, 0, 800, 45);
            ctx.fillStyle = '#ff0000';
            ctx.beginPath();
            ctx.arc(25, 22, 6, 0, Math.PI * 2);
            ctx.fill();
            ctx.fillStyle = '#fff';
            ctx.font = 'bold 15px monospace';
            ctx.textAlign = 'left';
            ctx.fillText('REC', 40, 27);
            ctx.font = '13px monospace';
            ctx.fillText('19/09/2025  17:45:12  |  ΣΚΗΝΗ ΕΓΚΛΗΜΑΤΟΣ - ΛΟΓΙΣΤΗΡΙΟ', 100, 27);
            ctx.textAlign = 'right';
            ctx.fillText('ΤΕΚ #009', 780, 27);
        }

        window.onload = function() {
            drawCrimeScene();
        };
    </script>
</body>
</html>