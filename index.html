<!DOCTYPE html>
<html lang="el">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Î¦Î¬ÎºÎµÎ»Î¿Ï‚ Î¥Ï€ÏŒÎ¸ÎµÏƒÎ·Ï‚ - Î¦ÎµÏƒÏ„Î¹Î²Î¬Î» Î‘ÏƒÏ„Ï…Î½Î¿Î¼Î¹ÎºÎ®Ï‚ Î›Î¿Î³Î¿Ï„ÎµÏ‡Î½Î¯Î±Ï‚ 2025</title>

    <script type="module">
        import { initializeApp } from 'https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js';
        import { getFirestore, doc, setDoc, getDoc } from 'https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore.js';

        const firebaseConfig = {
            apiKey: "AIzaSyA_9_40aa_wO_19g-1bIrSB6742aMOPwjo",
            authDomain: "crime-festival-2025.firebaseapp.com",
            projectId: "crime-festival-2025",
            storageBucket: "crime-festival-2025.firebasestorage.app",
            messagingSenderId: "663770004335",
            appId: "1:663770004335:web:e42dbd983ab9b5277bc69a"
        };

        const app = initializeApp(firebaseConfig);
        const db = getFirestore(app);

        window.firebaseDB = db;
        window.firebaseDoc = doc;
        window.firebaseSetDoc = setDoc;
        window.firebaseGetDoc = getDoc;
        
        console.log("âœ… Firebase connected in index.html!");
    </script>
    
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
            min-height: 100vh;
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
            position: relative;
            overflow-x: hidden;
        }

        .animated-background {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            opacity: 0.1;
            background-image: repeating-linear-gradient(45deg, transparent, transparent 35px, rgba(255,107,0,0.5) 35px, rgba(255,107,0,0.5) 70px);
            animation: slide 20s linear infinite;
        }

        @keyframes slide {
            0% { transform: translateX(0); }
            100% { transform: translateX(70px); }
        }

        .header {
            background: linear-gradient(135deg, #ff6b00 0%, #ff8800 100%);
            padding: 30px 20px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.5);
            position: relative;
            z-index: 10;
            text-align: center;
        }

        .header h1 {
            color: #000;
            font-size: 32px;
            font-weight: bold;
            letter-spacing: 2px;
            text-shadow: 2px 2px 4px rgba(255,255,255,0.3);
            margin-bottom: 10px;
        }

        .header p {
            color: #1a1a1a;
            font-size: 16px;
            font-weight: bold;
        }

        .team-info {
            background: rgba(0,0,0,0.2);
            padding: 10px 20px;
            border-radius: 8px;
            margin-top: 15px;
            display: inline-block;
        }

        .team-info strong {
            color: #fff;
            font-size: 14px;
            text-transform: uppercase;
        }

        @media (max-width: 768px) {
            .header h1 {
                font-size: 24px;
            }
            .header p {
                font-size: 14px;
            }
        }

        .container {
            padding: 40px 20px;
            max-width: 1400px;
            margin: 0 auto;
            position: relative;
            z-index: 1;
        }

        .intro-box {
            background: rgba(255, 255, 255, 0.95);
            border: 3px solid #ff6b00;
            border-radius: 15px;
            padding: 30px;
            margin-bottom: 40px;
            box-shadow: 0 10px 40px rgba(0,0,0,0.3);
        }

        .intro-box h2 {
            color: #1a1a2e;
            font-size: 18px;
            text-transform: uppercase;
            border-bottom: 2px solid #000;
            padding-bottom: 8px;
            margin-bottom: 20px;
            letter-spacing: 1px;
        }

        .intro-box p {
            color: #333;
            line-height: 1.65;
            font-size: 14px;
            margin: 12px 0;
            text-align: justify;
        }

        .intro-box p strong {
            color: #000;
        }

        .red-highlight {
            color: #dc3545;
            font-weight: bold;
            background: rgba(220,53,69,0.1);
            padding: 2px 6px;
            border-radius: 3px;
        }

        .timer-section {
            background: rgba(255, 255, 255, 0.95);
            border: 3px solid #17a2b8;
            border-radius: 15px;
            padding: 20px;
            margin-bottom: 20px;
            box-shadow: 0 10px 40px rgba(0,0,0,0.3);
            display: none;
        }

        .timer-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin-top: 15px;
        }

        .timer-box {
            background: #f8f9fa;
            padding: 15px;
            border-radius: 10px;
            border-left: 4px solid #17a2b8;
        }

        .timer-box strong {
            display: block;
            color: #0f3460;
            font-size: 12px;
            margin-bottom: 5px;
            text-transform: uppercase;
        }

        .timer-box .value {
            font-size: 24px;
            font-weight: bold;
            color: #17a2b8;
            font-family: monospace;
        }

        .suspects-section {
            margin-bottom: 40px;
        }

        .suspects-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(350px, 1fr));
            gap: 25px;
            margin-top: 20px;
        }

        .suspect-card {
            background: rgba(255, 255, 255, 0.95);
            border: 3px solid #dc3545;
            border-radius: 15px;
            padding: 20px;
            box-shadow: 0 10px 40px rgba(220, 53, 69, 0.3);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }

        .suspect-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 50px rgba(220, 53, 69, 0.5);
        }

        .suspect-photo-container {
            position: relative;
            width: 100%;
            display: flex;
            justify-content: center;
            margin-bottom: 15px;
        }

        .suspect-canvas {
            border: 3px solid #333;
            box-shadow: 3px 3px 8px rgba(0,0,0,0.4);
            transform: rotate(-1deg);
            background: #f5f5f5;
        }

        .suspect-number {
            position: absolute;
            top: -10px;
            right: 10px;
            background: #dc3545;
            color: white;
            padding: 5px 12px;
            border-radius: 6px;
            font-size: 11px;
            font-weight: bold;
            box-shadow: 2px 2px 5px rgba(0,0,0,0.3);
        }

        .suspect-details {
            font-size: 13px;
            line-height: 1.6;
        }

        .suspect-details h3 {
            color: #1a1a2e;
            font-size: 16px;
            margin-bottom: 12px;
            padding-bottom: 8px;
            border-bottom: 2px solid #dc3545;
            font-family: monospace;
            letter-spacing: 0.5px;
        }

        .suspect-field {
            margin-bottom: 10px;
            padding: 8px;
            background: rgba(0,0,0,0.02);
            border-radius: 4px;
            text-align: justify;
        }

        .suspect-field strong {
            color: #dc3545;
            display: block;
            margin-bottom: 3px;
            font-size: 11px;
            letter-spacing: 0.5px;
        }

        .forensic-box {
            background: rgba(255, 255, 255, 0.95);
            border: 3px solid #28a745;
            border-radius: 15px;
            padding: 30px;
            margin-bottom: 40px;
            box-shadow: 0 10px 40px rgba(0,0,0,0.3);
        }

        .forensic-box h2 {
            color: #1a1a2e;
            font-size: 18px;
            text-transform: uppercase;
            border-bottom: 2px solid #000;
            padding-bottom: 8px;
            margin-bottom: 20px;
            letter-spacing: 1px;
        }

        .forensic-box p {
            margin: 12px 0;
            color: #333;
            font-size: 14px;
            line-height: 1.65;
            text-align: justify;
        }

        .forensic-box p strong {
            color: #000;
        }

        .timeline-box {
            background: rgba(255, 255, 255, 0.95);
            border: 3px solid #6c757d;
            border-radius: 15px;
            padding: 30px;
            margin-bottom: 40px;
            box-shadow: 0 10px 40px rgba(0,0,0,0.3);
        }

        .timeline-box h2 {
            color: #1a1a2e;
            font-size: 18px;
            text-transform: uppercase;
            border-bottom: 2px solid #000;
            padding-bottom: 8px;
            margin-bottom: 20px;
            letter-spacing: 1px;
        }

        .timeline-item {
            margin: 8px 0;
            padding-left: 20px;
            position: relative;
            color: #333;
            font-size: 13px;
            line-height: 1.5;
            text-align: justify;
        }

        .timeline-item::before {
            content: "â—‰";
            position: absolute;
            left: 0;
            font-size: 11px;
            color: #000;
        }

        .timeline-item strong {
            color: #1a1a2e;
            font-weight: 600;
        }

        .timeline-critical {
            color: #dc3545;
            font-weight: bold;
            background: rgba(220,53,69,0.1);
            padding: 2px 6px;
            border-radius: 3px;
        }

        .progress-bar-container {
            background: rgba(255, 255, 255, 0.95);
            border: 3px solid #ff6b00;
            border-radius: 15px;
            padding: 25px;
            margin-bottom: 40px;
            box-shadow: 0 10px 40px rgba(0,0,0,0.3);
        }

        .progress-title {
            color: #1a1a2e;
            font-size: 20px;
            margin-bottom: 15px;
            font-weight: bold;
        }

        .progress-bar {
            background: #e0e0e0;
            height: 30px;
            border-radius: 15px;
            overflow: hidden;
            position: relative;
            margin-bottom: 10px;
        }

        .progress-fill {
            background: linear-gradient(135deg, #ff6b00 0%, #ff8800 100%);
            height: 100%;
            transition: width 0.5s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
            font-size: 14px;
        }

        .progress-text {
            color: #666;
            font-size: 16px;
            text-align: center;
        }

        .section-title {
            color: #fff;
            margin-bottom: 25px;
            font-size: 24px;
            display: flex;
            align-items: center;
            gap: 10px;
            padding-bottom: 10px;
            border-bottom: 2px solid rgba(255, 107, 0, 0.5);
        }

        .evidence-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));
            gap: 25px;
            margin-bottom: 40px;
        }

        .evidence-card {
            background: rgba(255, 255, 255, 0.95);
            border: 3px solid #ff6b00;
            border-radius: 15px;
            padding: 25px;
            box-shadow: 0 10px 40px rgba(0,0,0,0.3);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            position: relative;
        }

        .evidence-card.unlocked:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 50px rgba(255, 107, 0, 0.4);
        }

        .evidence-card.locked {
            opacity: 0.6;
            border-color: #999;
            background: rgba(200, 200, 200, 0.95);
        }

        .evidence-header {
            display: flex;
            align-items: center;
            gap: 15px;
            margin-bottom: 15px;
        }

        .evidence-icon {
            width: 60px;
            height: 60px;
            background: linear-gradient(135deg, #ff6b00 0%, #ff8800 100%);
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 30px;
            box-shadow: 0 4px 15px rgba(255, 107, 0, 0.3);
            flex-shrink: 0;
        }

        .evidence-card.locked .evidence-icon {
            background: linear-gradient(135deg, #999 0%, #666 100%);
            filter: grayscale(100%);
        }

        .evidence-info h3 {
            color: #1a1a2e;
            font-size: 20px;
            margin-bottom: 5px;
            font-family: monospace;
            letter-spacing: 1px;
        }

        .evidence-card.locked .evidence-info h3 {
            color: #666;
        }

        .evidence-info p {
            color: #666;
            font-size: 14px;
            line-height: 1.4;
        }

        .evidence-description {
            color: #333;
            line-height: 1.6;
            margin-bottom: 20px;
            font-size: 14px;
        }

        .evidence-card.locked .evidence-description {
            color: #999;
        }

        .evidence-actions {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
        }

        .btn {
            padding: 12px 24px;
            border-radius: 8px;
            font-weight: bold;
            text-decoration: none;
            display: inline-flex;
            align-items: center;
            gap: 8px;
            transition: transform 0.2s ease, box-shadow 0.2s ease;
            font-size: 14px;
            border: 2px solid transparent;
            cursor: pointer;
        }

        .btn:hover:not(:disabled) {
            transform: translateY(-2px);
        }

        .btn-ar {
            background: linear-gradient(135deg, #ff6b00 0%, #ff8800 100%);
            color: white;
            box-shadow: 0 4px 15px rgba(255, 107, 0, 0.3);
        }

        .btn-ar:hover:not(:disabled) {
            box-shadow: 0 6px 20px rgba(255, 107, 0, 0.5);
        }

        .btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
            background: #ccc;
            color: #666;
        }

        .status-badge {
            display: inline-block;
            padding: 6px 12px;
            border-radius: 6px;
            font-size: 12px;
            font-weight: bold;
            margin-top: 10px;
        }

        .status-unlocked {
            background: #d4edda;
            color: #155724;
            border: 1px solid #c3e6cb;
        }

        .status-locked {
            background: #f8f9fa;
            color: #6c757d;
            border: 1px solid #dee2e6;
        }

        .critical-tag {
            position: absolute;
            top: 15px;
            right: 15px;
            background: #dc3545;
            color: white;
            padding: 4px 8px;
            border-radius: 4px;
            font-size: 11px;
            font-weight: bold;
        }

        .lock-overlay {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            font-size: 48px;
            opacity: 0.3;
        }

        .solution-form {
            background: white;
            padding: 25px;
            border-radius: 10px;
            margin: 20px 0;
        }

        .suspect-options {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            gap: 15px;
            margin: 20px 0;
        }

        .suspect-option {
            background: #f8f9fa;
            border: 2px solid #ddd;
            border-radius: 10px;
            padding: 15px;
            transition: all 0.3s ease;
            cursor: pointer;
        }

        .suspect-option:hover {
            border-color: #ff6b00;
            background: #fff5f0;
            transform: translateY(-2px);
        }

        .suspect-option input[type="checkbox"] {
            width: 20px;
            height: 20px;
            margin-right: 10px;
            cursor: pointer;
        }

        .suspect-option label {
            cursor: pointer;
            display: flex;
            align-items: center;
            font-weight: bold;
            color: #1a1a2e;
        }

        .suspect-option input[type="checkbox"]:checked + label {
            color: #ff6b00;
        }

        .form-group {
            margin: 20px 0;
        }

        .form-group label {
            display: block;
            font-weight: bold;
            color: #1a1a2e;
            margin-bottom: 10px;
        }

        .form-group textarea {
            width: 100%;
            min-height: 150px;
            padding: 15px;
            border: 2px solid #ddd;
            border-radius: 8px;
            font-size: 14px;
            font-family: inherit;
            resize: vertical;
        }

        .form-group input[type="number"] {
            width: 150px;
            padding: 10px;
            border: 2px solid #ddd;
            border-radius: 8px;
            font-size: 16px;
        }

        .form-group textarea:focus,
        .form-group input:focus {
            outline: none;
            border-color: #ff6b00;
        }

        .submit-btn {
            background: linear-gradient(135deg, #28a745 0%, #20c997 100%);
            color: white;
            padding: 15px 40px;
            border: none;
            border-radius: 10px;
            font-size: 18px;
            font-weight: bold;
            cursor: pointer;
            box-shadow: 0 4px 15px rgba(40,167,69,0.3);
            transition: all 0.2s ease;
        }

        .submit-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(40,167,69,0.5);
        }

        .info-box {
            background: #e3f2fd;
            border-left: 4px solid #2196f3;
            padding: 15px;
            border-radius: 8px;
            margin: 15px 0;
            font-size: 13px;
            color: #0d47a1;
        }

        .footer {
            background: rgba(255, 255, 255, 0.1);
            padding: 20px;
            text-align: center;
            color: #fff;
            border-top: 2px solid rgba(255, 107, 0, 0.3);
            margin-top: 40px;
        }

        .footer p {
            margin: 5px 0;
            font-size: 14px;
            opacity: 0.9;
        }

        .tabs-container {
            margin-bottom: 40px;
        }

        .tabs-nav {
            display: flex;
            gap: 10px;
            margin-bottom: 30px;
            flex-wrap: wrap;
            background: rgba(0, 0, 0, 0.2);
            padding: 15px;
            border-radius: 15px;
        }

        .tab-button {
            flex: 1;
            min-width: 150px;
            padding: 15px 20px;
            background: rgba(255, 255, 255, 0.1);
            border: 2px solid rgba(255, 107, 0, 0.3);
            border-radius: 10px;
            color: #fff;
            font-size: 14px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .tab-button:hover {
            background: rgba(255, 107, 0, 0.2);
            border-color: rgba(255, 107, 0, 0.6);
            transform: translateY(-2px);
        }

        .tab-button.active {
            background: linear-gradient(135deg, #ff6b00 0%, #ff8800 100%);
            border-color: #ff6b00;
            box-shadow: 0 4px 15px rgba(255, 107, 0, 0.4);
            color: #000;
        }

        .tabs-content {
            position: relative;
        }

        .tab-pane {
            display: none;
            animation: fadeIn 0.3s ease;
        }

        .tab-pane.active {
            display: block;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(10px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @media (max-width: 768px) {
            .evidence-grid, .suspects-grid {
                grid-template-columns: 1fr;
            }

            .evidence-actions {
                flex-direction: column;
            }

            .btn {
                width: 100%;
                justify-content: center;
            }

            .tabs-nav {
                flex-direction: column;
            }

            .tab-button {
                min-width: 100%;
            }
            
            .timer-grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>

<body>
    <div class="animated-background"></div>

    <div class="header">
        <h1>âš ï¸ Î¦Î‘ÎšÎ•Î›ÎŸÎ£ Î¥Î ÎŸÎ˜Î•Î£Î—Î£ âš ï¸</h1>
        <div class="team-info" id="teamInfo" style="display: none;">
            <strong id="teamName"></strong>
        </div>
    </div>

    <div class="container">
        <!-- Timer Section -->
        <div class="timer-section" id="timerSection">
            <h2 style="color: #1a1a2e; font-size: 20px; margin-bottom: 15px; display: flex; align-items: center; gap: 10px;">
                â±ï¸ Î§ÏÎ¿Î½Î¿Î¼Î­Ï„ÏÎ·ÏƒÎ· ÎŸÎ¼Î¬Î´Î±Ï‚
            </h2>
            <div class="timer-grid">
                <div class="timer-box">
                    <strong>ÎˆÎ½Î±ÏÎ¾Î·</strong>
                    <div class="value" id="startTime">--:--</div>
                </div>
                <div class="timer-box">
                    <strong id="liveTimerLabel">Î§ÏÏŒÎ½Î¿Ï‚</strong>
                    <div class="value" id="liveTimer">0Î» 0Î´</div>
                </div>
            </div>
        </div>

        <!-- Tab Navigation -->
        <div class="tabs-container">
            <div class="tabs-nav">
                <button class="tab-button active" data-tab="intro">ğŸ” Î Î•Î¡Î™Î£Î¤Î‘Î¤Î™ÎšÎŸ</button>
                <button class="tab-button" data-tab="suspects">ğŸ‘¥ ÎšÎ‘Î¤Î‘Î›ÎŸÎ“ÎŸÎ£ Î¥Î ÎŸÎ Î¤Î©Î</button>
                <button class="tab-button" data-tab="forensics">ğŸ¥¼ Î™Î‘Î¤Î¡ÎŸÎ”Î™ÎšÎ‘Î£Î¤Î™ÎšÎ— & Î§Î¡ÎŸÎÎŸÎ›ÎŸÎ“Î™ÎŸ</button>
                <button class="tab-button" data-tab="evidence">ğŸ“¦ Î¤Î•ÎšÎœÎ—Î¡Î™Î‘</button>
                <button class="tab-button" data-tab="solution">âœ… Î›Î¥Î£Î—</button>
            </div>

            <!-- Tab Content -->
            <div class="tabs-content">
                <!-- Tab 1: Intro -->
                <div class="tab-pane active" id="tab-intro">
                    <div class="intro-box">
                        <h2>ğŸ” Î Î•Î¡Î™Î£Î¤Î‘Î¤Î™ÎšÎŸ</h2>
                        <p><strong>Î˜Î¥ÎœÎ‘:</strong> Î”Î—ÎœÎ—Î¤Î¡Î™ÎŸÎ¥ Î Î•Î¤Î¡ÎŸÎ£ Ï„Î¿Ï… Î™Î©Î‘ÎÎÎ—, Î‘Î¦Îœ: 074Î§Î§Î§Î§Î§Î§</p>
                        <p><strong>Î—Î›Î™ÎšÎ™Î‘:</strong> 55 ÎµÏ„ÏÎ½ | <strong>ÎŸÎ™Îš. ÎšÎ‘Î¤Î‘Î£Î¤Î‘Î£Î—:</strong> Î”Î¹Î±Î¶ÎµÏ…Î³Î¼Î­Î½Î¿Ï‚, 2 Ï„Î­ÎºÎ½Î±</p>
                        <p><strong>Î•Î Î‘Î“Î“Î•Î›ÎœÎ‘:</strong> Î•ÎºÎ´ÏŒÏ„Î·Ï‚, Î™Î´ÏÏ…Ï„Î®Ï‚/CEO Â«Î›ÎŸÎ“ÎŸÎ£ Î•ÎšÎ”ÎŸÎ£Î•Î™Î£ Î‘.Î•.Â»</p>
                        <p><strong>Î¤ÎŸÎ ÎŸÎ£ Î•Î¥Î¡Î•Î£Î—Î£:</strong> Î™Î´Î¹Ï‰Ï„Î¹ÎºÏŒ Î³ÏÎ±Ï†ÎµÎ¯Î¿, Î£Ï„Î±Î´Î¯Î¿Ï… 47, 7Î¿Ï‚ ÏŒÏÎ¿Ï†Î¿Ï‚</p>
                        <p><strong>Î—ÎœÎ•Î¡Î‘ Î•Î¥Î¡Î•Î£Î—Î£:</strong> Î Î±ÏÎ±ÏƒÎºÎµÏ…Î® 31/10, 07:00 Ï€.Î¼. | <strong>ÎšÎ›Î—Î£Î— Î‘Î£Î¤Î¥ÎÎŸÎœÎ™Î‘Î£:</strong> 07:03</p>
                        <p style="font-style: italic; color: #00008b; margin-top: 15px;">Î£Î·Î¼ÎµÎ¯Ï‰ÏƒÎ·: Î‘ÏƒÏ†Î¬Î»ÎµÎ¹Î± Î¶Ï‰Î®Ï‚ â‚¬1ÎµÎº. - Î±ÎºÏ…ÏÏÎ½ÎµÏ„Î±Î¹ ÏƒÎµ Ï€ÎµÏÎ¯Ï€Ï„Ï‰ÏƒÎ· Î±Ï…Ï„Î¿ÎºÏ„Î¿Î½Î¯Î±Ï‚</p>
                    </div>
                </div>

                <!-- Tab 2: Suspects -->
                <div class="tab-pane" id="tab-suspects">
                    <div id="suspectsContainer"></div>
                </div>

                <!-- Tab 3: Forensics & Timeline -->
                <div class="tab-pane" id="tab-forensics">
                    <div class="forensic-box">
                        <h2>ğŸ¥¼ Î™Î‘Î¤Î¡ÎŸÎ”Î™ÎšÎ‘Î£Î¤Î™ÎšÎ— Î•ÎšÎ˜Î•Î£Î—</h2>
                        <p><strong>Î¤ÎŸÎ ÎŸÎ£ Î•Î¥Î¡Î•Î£Î—Î£:</strong> Î¤Î¿Ï…Î±Î»Î­Ï„ÎµÏ‚, 7Î¿Ï‚ ÏŒÏÎ¿Ï†Î¿Ï‚</p>
                        <p><strong>Î©Î¡Î‘ Î˜Î‘ÎÎ‘Î¤ÎŸÎ¥:</strong> 21:30 - 21:50 (Î±ÎºÏÎ¯Î²ÎµÎ¹Î± Â±10 Î»ÎµÏ€Ï„Î¬)</p>
                        <p><strong>Î‘Î™Î¤Î™Î‘:</strong> ÎŸÎ¾ÎµÎ¯Î± Î´Î·Î»Î·Ï„Î·ÏÎ¯Î±ÏƒÎ· Î±Ï€ÏŒ ÎºÏ…Î±Î½Î¹Î¿ÏÏ‡Î¿ ÎºÎ¬Î»Î¹Î¿ (75mg ÎµÎ½Ï„ÎµÏÎ¿Î´Î¹Î±Î»Ï…Ï„Î® ÎºÎ¬ÏˆÎ¿Ï…Î»Î±)</p>
                        <p><strong>Î¤ÎŸÎÎ™ÎšÎŸÎ›ÎŸÎ“Î™ÎšÎ—:</strong> Î‘Î»ÎºÎ¿ÏŒÎ» 0.12%, Î±Î»Ï€ÏÎ±Î¶Î¿Î»Î¬Î¼Î· 2mg (ÎµÎ½Î¹ÏƒÏ‡ÏÎµÎ¹ Î´ÏÎ¬ÏƒÎ· ÎºÏ…Î±Î½Î¯Î¿Ï…)</p>
                        <p><strong>Î¤Î¡Î‘Î¥ÎœÎ‘Î¤Î‘:</strong> ÎšÎ±Î½Î­Î½Î± Î±Î¼Ï…Î½Ï„Î¹ÎºÏŒ Ï„ÏÎ±ÏÎ¼Î± - Ï„Î¿ Î¸ÏÎ¼Î± Î´ÎµÎ½ Î±Î½Ï„Î¹ÏƒÏ„Î¬Î¸Î·ÎºÎµ</p>
                        <p><strong>Î Î‘Î˜ÎŸÎ›ÎŸÎ“Î™ÎšÎ—:</strong> <span class="red-highlight">ÎšÎ±ÏÎºÎ¯Î½Î¿Ï‚ Ï€Î±Î³ÎºÏÎ­Î±Ï„Î¿Ï‚ Ï„ÎµÎ»Î¹ÎºÎ¿Ï ÏƒÏ„Î±Î´Î¯Î¿Ï… - Ï€ÏÎ¿ÏƒÎ´ÏŒÎºÎ¹Î¼Î¿ Î¶Ï‰Î®Ï‚ 2-3 Î¼Î®Î½ÎµÏ‚</span></p>
                    </div>
                    <div class="timeline-box">
                        <h2>ğŸ• Î§Î¡ÎŸÎÎŸÎ›ÎŸÎ“Î™ÎŸ Î£Î¥ÎœÎ’Î‘ÎÎ¤Î©Î</h2>
                        <div class="timeline-item"><strong>17:30-18:30</strong> - ÎŸÎ¹ Ï€ÎµÏÎ¹ÏƒÏƒÏŒÏ„ÎµÏÎ¿Î¹ Ï…Ï€Î¬Î»Î»Î·Î»Î¿Î¹ Î±Ï€Î¿Ï‡Ï‰ÏÎ¿ÏÎ½ Î±Ï€ÏŒ Ï„Î¿ ÎºÏ„Î¯ÏÎ¹Î¿</div>
                        <div class="timeline-item"><strong>19:00</strong> - Î Î±ÏÎ¬Î´Î¿ÏƒÎ· Ï†Î±Î³Î·Ï„Î¿Ï ÏƒÏ„Î¿ Î³ÏÎ±Ï†ÎµÎ¯Î¿ Ï„Î¿Ï… Î¸ÏÎ¼Î±Ï„Î¿Ï‚ (Î³Î¹Î± 2 Î¬Ï„Î¿Î¼Î±)</div>
                        <div class="timeline-item"><strong>20:00-21:00</strong> - ÎšÏÎ¯ÏƒÎ¹Î¼Î¿ Ï‡ÏÎ¿Î½Î¹ÎºÏŒ Ï€Î±ÏÎ¬Î¸Ï…ÏÎ¿ - Ï€Î¿Î»Î»Î±Ï€Î»Î­Ï‚ ÎºÎ¹Î½Î®ÏƒÎµÎ¹Ï‚ ÏƒÏ„Î¿ ÎºÏ„Î¯ÏÎ¹Î¿</div>
                        <div class="timeline-item"><strong>20:45</strong> - SMS ÏƒÏ„Î¿ ÎºÎ¹Î½Î·Ï„ÏŒ Ï„Î¿Ï… Î¸ÏÎ¼Î±Ï„Î¿Ï‚: Â«Î˜Î± Ï„ÎµÎ»ÎµÎ¹ÏÏƒÎµÎ¹ Î±Ï€ÏŒÏˆÎµÂ»</div>
                        <div class="timeline-item"><strong>21:25</strong> - Email Â«Î±Ï…Ï„Î¿ÎºÏ„Î¿Î½Î¯Î±Ï‚Â» Î±Ï€Î¿ÏƒÏ„Î­Î»Î»ÎµÏ„Î±Î¹</div>
                        <div class="timeline-item"><strong>21:30-21:50</strong> - <span class="timeline-critical">Î˜Î‘ÎÎ‘Î¤ÎŸÎ£ Î˜Î¥ÎœÎ‘Î¤ÎŸÎ£</span></div>
                        <div class="timeline-item"><strong>07:00 (ÎµÏ€ÏŒÎ¼ÎµÎ½Î· Î¼Î­ÏÎ±)</strong> - Î‘Î½Î±ÎºÎ¬Î»Ï…ÏˆÎ· Ï€Ï„ÏÎ¼Î±Ï„Î¿Ï‚ Î±Ï€ÏŒ ÎºÎ±Î¸Î±ÏÎ¯ÏƒÏ„ÏÎ¹Î±</div>
                    </div>
                </div>

                <!-- Tab 4: Evidence -->
                <div class="tab-pane" id="tab-evidence">
                    <div class="progress-bar-container">
                        <div class="progress-title">ğŸ“Š Î Î¡ÎŸÎŸÎ”ÎŸÎ£ Î•Î¡Î•Î¥ÎÎ‘Î£</div>
                        <div class="progress-bar">
                            <div class="progress-fill" id="progressFill">0%</div>
                        </div>
                        <div class="progress-text" id="progressText">Î•Î§Î•Î¤Î• ÎÎ•ÎšÎ›Î•Î™Î”Î©Î£Î•Î™ 0 Î‘Î ÎŸ 11 Î¤Î•ÎšÎœÎ—Î¡Î™Î‘</div>
                    </div>

                    <h2 class="section-title">ğŸ“¦ Î¤Î•ÎšÎœÎ—Î¡Î™Î‘ Î‘Î ÎŸ Î¤Î— Î£ÎšÎ—ÎÎ— Î¤ÎŸÎ¥ Î•Î“ÎšÎ›Î—ÎœÎ‘Î¤ÎŸÎ£</h2>

                    <div class="evidence-grid" id="evidenceGrid">
                    </div>
                </div>
<!-- Tab 5: Solution -->
                <div class="tab-pane" id="tab-solution">
                    <div class="intro-box">
                        <h2>âœ… Î¥Î ÎŸÎ’ÎŸÎ›Î— Î›Î¥Î£Î—Î£</h2>
                        <p>ÎˆÏ‡ÎµÏ„Îµ Î¼ÎµÎ»ÎµÏ„Î®ÏƒÎµÎ¹ ÏŒÎ»Î± Ï„Î± Ï„ÎµÎºÎ¼Î®ÏÎ¹Î± ÎºÎ±Î¹ ÎµÎ¯ÏƒÏ„Îµ Î­Ï„Î¿Î¹Î¼Î¿Î¹ Î½Î± Ï…Ï€Î¿Î²Î¬Î»ÎµÏ„Îµ Ï„Î· Î»ÏÏƒÎ· ÏƒÎ±Ï‚;</p>
                        <p><strong>Î•Ï€Î¹Î»Î­Î¾Ï„Îµ Ï„Î¿Î½/Ï„Î¿Ï…Ï‚ Î´ÏÎ¬ÏƒÏ„Î·/ÎµÏ‚ Î® Î±Ï…Ï„Î¿ÎºÏ„Î¿Î½Î¯Î± ÎºÎ±Î¹ Ï€Î±ÏÎ¬Î¸ÎµÏƒÏ„Îµ Ï„Î·Î½ Î±Î¹Ï„Î¹Î¿Î»ÏŒÎ³Î·ÏƒÎ® ÏƒÎ±Ï‚.</strong></p>
                    </div>

                    <div class="solution-form" id="solutionForm">
                        <h3 style="color: #1a1a2e; margin-bottom: 20px;">Î•Ï€Î¹Î»Î¿Î³Î® Î”ÏÎ¬ÏƒÏ„Î·/Ï‰Î½</h3>
                        
                        <div class="suspect-options">
                            <div class="suspect-option">
                                <input type="checkbox" id="suspect_maria" name="suspect" value="maria">
                                <label for="suspect_maria">ğŸ‘© Î Î±Ï€Î±Î´Î¿Ï€Î¿ÏÎ»Î¿Ï… ÎœÎ±ÏÎ¯Î±</label>
                            </div>
                            
                            <div class="suspect-option">
                                <input type="checkbox" id="suspect_konstantinos" name="suspect" value="konstantinos">
                                <label for="suspect_konstantinos">ğŸ‘¨â€ğŸ’¼ Î‘Î½Î±Î³Î½ÏÏƒÏ„Î¿Ï… ÎšÏ‰Î½ÏƒÏ„Î±Î½Ï„Î¯Î½Î¿Ï‚</label>
                            </div>
                            
                            <div class="suspect-option">
                                <input type="checkbox" id="suspect_eleni" name="suspect" value="eleni">
                                <label for="suspect_eleni">ğŸ‘©â€ğŸ¦° ÎœÎ±Ï…ÏÎ¯Î´Î· Î•Î»Î­Î½Î·</label>
                            </div>
                            
                            <div class="suspect-option">
                                <input type="checkbox" id="suspect_georgios" name="suspect" value="georgios">
                                <label for="suspect_georgios">ğŸ‘® Î ÎµÏ„ÏÏŒÏ€Î¿Ï…Î»Î¿Ï‚ Î“ÎµÏÏÎ³Î¹Î¿Ï‚</label>
                            </div>
                            
                            <div class="suspect-option">
                                <input type="checkbox" id="suspect_alexandra" name="suspect" value="alexandra">
                                <label for="suspect_alexandra">ğŸ‘©â€ğŸ’» ÎÎ¹ÎºÎ¿Î»Î¬Î¿Ï… Î‘Î»ÎµÎ¾Î¬Î½Î´ÏÎ±</label>
                            </div>
                            
                            <div class="suspect-option">
                                <input type="checkbox" id="suspect_suicide" name="suspect" value="suicide">
                                <label for="suspect_suicide">ğŸ’€ Î‘Ï…Ï„Î¿ÎºÏ„Î¿Î½Î¯Î±</label>
                            </div>
                        </div>

                        <div class="form-group">
                            <label for="justification">Î‘Î¹Ï„Î¹Î¿Î»ÏŒÎ³Î·ÏƒÎ· Î›ÏÏƒÎ·Ï‚: *</label>
                            <textarea 
                                id="justification" 
                                placeholder="Î ÏÎ¿ÏƒÎ¸Î­ÏƒÏ„Îµ Ï„Î·Î½ Î±Î½Î¬Î»Ï…ÏƒÎ® / Î±Î¹Ï„Î¹Î¿Î»ÏŒÎ³Î·ÏƒÎ® ÏƒÎ±Ï‚..."
                                required
                            ></textarea>
                        </div>

                        <div class="form-group">
                            <label for="promptCount">Î‘ÏÎ¹Î¸Î¼ÏŒÏ‚ Prompts Ï€Î¿Ï… Ï‡ÏÎ·ÏƒÎ¹Î¼Î¿Ï€Î¿Î¹Î®ÏƒÎ±Ï„Îµ: *</label>
                            <input 
                                type="number" 
                                id="promptCount" 
                                min="0" 
                                step="1" 
                                placeholder="Ï€.Ï‡. 5"
                                required
                            >
                            <p style="font-size: 12px; color: #666; margin-top: 5px;">
                                Î£Ï…Î¼Ï€Î»Î·ÏÏÏƒÏ„Îµ Ï€ÏŒÏƒÎ± prompts Ï‡ÏÎ·ÏƒÎ¹Î¼Î¿Ï€Î¿Î¹Î®ÏƒÎ±Ï„Îµ Î³Î¹Î± Î½Î± Î»ÏÏƒÎµÏ„Îµ Ï„Î·Î½ Ï…Ï€ÏŒÎ¸ÎµÏƒÎ·.
                            </p>
                        </div>

                        <button type="button" class="submit-btn" onclick="submitSolution()">
                            âœ… Î¥Ï€Î¿Î²Î¿Î»Î® Î›ÏÏƒÎ·Ï‚
                        </button>
                    </div>

                    <div id="solutionResult" style="display: none;"></div>
                </div>
            </div>
        </div>
    </div>

    <div class="footer">
        <p><strong>Î¦Î•Î£Î¤Î™Î’Î‘Î› Î‘Î£Î¤Î¥ÎÎŸÎœÎ™ÎšÎ—Î£ Î›ÎŸÎ“ÎŸÎ¤Î•Î§ÎÎ™Î‘Î£ 2025</strong></p>
        <p style="margin-top: 10px; opacity: 0.7; font-size: 12px;">
            11 Î¤Î•ÎšÎœÎ—Î¡Î™Î‘ | 5 Î¥Î ÎŸÎ Î¤ÎŸÎ™ | 1 Î‘Î›Î—Î˜Î•Î™Î‘
        </p>
    </div>
    
    <script src="suspects.js"></script>

    <script>
        const teks = [
            {
                id: '1',
                name: 'ÎœÏ€Î¿Ï…ÎºÎ¬Î»Î¹ ÎŸÏ…Î¯ÏƒÎºÎ¹',
                subtitle: 'ÎœÏ€Î¿Ï…ÎºÎ¬Î»Î¹ Jack Daniels',
                icon: 'ğŸ¾',
                description: '<strong>Î¤Î¿Ï€Î¿Î¸ÎµÏƒÎ¯Î±:</strong> Î“ÏÎ±Ï†ÎµÎ¯Î¿ Î¸ÏÎ¼Î±Ï„Î¿Ï‚<br><strong>Î•Ï…ÏÎ®Î¼Î±Ï„Î±:</strong> ÎšÏ…Î¬Î½Î¹Î¿ ÏƒÏ„Î¿Î½ Ï€Î¬Ï„Î¿ + Î±Ï€Î¿Ï„Ï…Ï€ÏÎ¼Î±Ï„Î± Î¸ÏÎ¼Î±Ï„Î¿Ï‚, Î Î±Ï€Î±Î´Î¿Ï€Î¿ÏÎ»Î¿Ï…, Î‘Î½Î±Î³Î½ÏÏƒÏ„Î¿Ï…, Î ÎµÏ„ÏÏŒÏ€Î¿Ï…Î»Î¿Ï…',
                page: 'TEK1_AR.html',
                critical: true
            },
            {
                id: '2',
                name: 'ÎšÏÏ…ÏƒÏ„Î¬Î»Î»Î¹Î½Î± Î Î¿Ï„Î®ÏÎ¹Î±',
                subtitle: 'Î”Ï…Î¿ ÎºÏÏ…ÏƒÏ„Î¬Î»Î»Î¹Î½Î± Ï€Î¿Ï„Î®ÏÎ¹Î±',
                icon: 'ğŸ¥ƒ',
                description: '<strong>Î Î¿Ï„Î®ÏÎ¹ Î‘:</strong> DNA Î¸ÏÎ¼Î±Ï„Î¿Ï‚ + ÎºÏ…Î¬Î½Î¹Î¿ + Î±Ï€Î¿Ï„Ï…Ï€ÏÎ¼Î±Ï„Î± Î¸ÏÎ¼Î±Ï„Î¿Ï‚<br><strong>Î Î¿Ï„Î®ÏÎ¹ Î’:</strong> ÎœÎµÏÎ¹ÎºÏŒ DNA (Ï…Ï€ÏŒ Î±Î½Î¬Î»Ï…ÏƒÎ·) + Î¯Ï‡Î½Î· Î¿Ï…Î¯ÏƒÎºÎ¹ + Î±Ï€Î¿Ï„Ï…Ï€ÏÎ¼Î±Ï„Î± Î¼ÎµÏÎ¹ÎºÏÏ‚ ÏƒÎ²Î·ÏƒÎ¼Î­Î½Î±',
                page: 'TEK2_AR.html',
                critical: true
            },
            {
                id: '3',
                name: 'ÎšÎ¹Î½Î·Ï„ÏŒ Î˜ÏÎ¼Î±Ï„Î¿Ï‚',
                subtitle: 'ÎšÎ¹Î½Î·Ï„ÏŒ Î¸ÏÎ¼Î±Ï„Î¿Ï‚',
                icon: 'ğŸ“±',
                description: '<strong>SMS 20:45:</strong> Â«Î˜Î± Ï„ÎµÎ»ÎµÎ¹ÏÏƒÎµÎ¹ Î±Ï€ÏŒÏˆÎµÂ»<br><strong>Î ÏÎ¿Î­Î»ÎµÏ…ÏƒÎ·:</strong> Î ÏÎ¿Ï€Î»Î·ÏÏ‰Î¼Î­Î½Î· ÎºÎ¬ÏÏ„Î±, ÎµÎ½Ï„Î¿Ï€Î¹ÏƒÎ¼Î­Î½Î· ÏƒÎµ Î±ÎºÏ„Î¯Î½Î± 250m Î±Ï€ÏŒ Ï„Î¿ ÎºÏ„Î¯ÏÎ¹Î¿',
                page: 'TEK3_AR.html',
                critical: false,
                threat: true
            },
            {
                id: '4',
                name: 'Email Î‘Ï…Ï„Î¿ÎºÏ„Î¿Î½Î¯Î±Ï‚',
                subtitle: 'Email Â«Î±Ï…Ï„Î¿ÎºÏ„Î¿Î½Î¯Î±Ï‚Â»',
                icon: 'ğŸ’»',
                description: '<strong>IP:</strong> 192.168.1.23 - 7Î¿Ï‚ ÏŒÏÎ¿Ï†Î¿Ï‚<br><strong>Î ÏÎ¿Î­Î»ÎµÏ…ÏƒÎ·:</strong> ÎšÎ¿Î¹Î½ÏŒÏ‡ÏÎ·ÏƒÏ„Î¿Ï‚ Ï…Ï€Î¿Î»Î¿Î³Î¹ÏƒÏ„Î®Ï‚ Î±Î¯Î¸Î¿Ï…ÏƒÎ±Ï‚ ÏƒÏ…ÏƒÎºÎ­ÏˆÎµÏ‰Î½ (Î´ÎµÎ½ Î±Ï€Î±Î¹Ï„ÎµÎ¯ ÎºÏ‰Î´Î¹ÎºÏŒ)',
                page: 'TEK4_AR.html',
                critical: false,
                forgery: true
            },
            {
                id: '5',
                name: 'Î™Î±Ï„ÏÎ¹ÎºÎ® Î“Î½Ï‰Î¼Î¬Ï„ÎµÏ…ÏƒÎ·',
                subtitle: 'Î™Î±Ï„ÏÎ¹ÎºÎ® Î³Î½Ï‰Î¼Î¬Ï„ÎµÏ…ÏƒÎ· (ÎºÏÏ…Ï†Î®)',
                icon: 'ğŸ¥¼',
                description: '<strong>Î”Î¹Î¬Î³Î½Ï‰ÏƒÎ·:</strong> ÎšÎ±ÏÎºÎ¯Î½Î¿Ï‚ Ï€Î±Î³ÎºÏÎ­Î±Ï„Î¿Ï‚ ÏƒÏ„Î±Î´Î¯Î¿Ï… IV<br><strong>Î—Î¼ÎµÏÎ¿Î¼Î·Î½Î¯Î±:</strong> Î ÏÎ¹Î½ 3 ÎµÎ²Î´Î¿Î¼Î¬Î´ÎµÏ‚<br><strong>Î ÏÏŒÎ³Î½Ï‰ÏƒÎ·:</strong> 2-3 Î¼Î®Î½ÎµÏ‚ Î¶Ï‰Î®Ï‚ â€¢ Î“Î¹Î±Ï„ÏÏŒÏ‚: Î”Ï. Î£Ï„Î±Ï…ÏÎ¯Î´Î·Ï‚',
                page: 'TEK5_AR.html',
                critical: false,
                secret: true
            },
            {
                id: '6',
                name: 'Î“Î¬Î½Ï„Î¹Î± Î›Î¬Ï„ÎµÎ¾',
                subtitle: 'ÎŠÏ‡Î½Î· Î³Î±Î½Ï„Î¹ÏÎ½ Î»Î¬Ï„ÎµÎ¾',
                icon: 'ğŸ§¤',
                description: '<strong>Î¤Î¿Ï€Î¿Î¸ÎµÏƒÎ¯Î±:</strong> Î ÏŒÎ¼Î¿Î»Î¿ Ï€ÏŒÏÏ„Î±Ï‚<br><strong>Î¤ÏÏ€Î¿Ï‚:</strong> Î“Î¬Î½Ï„Î¹Î± Î¹Î±Ï„ÏÎ¹ÎºÎ¿Ï Ï„ÏÏ€Î¿Ï…, Î¼Î­Î³ÎµÎ¸Î¿Ï‚ M<br><strong>Î ÏÎ¿Î­Î»ÎµÏ…ÏƒÎ·:</strong> ÎšÎ¿Ï…Ï„Î¯ Ï€ÏÏÏ„Ï‰Î½ Î²Î¿Î·Î¸ÎµÎ¹ÏÎ½ (Ï€ÏÏŒÏƒÎ²Î±ÏƒÎ·: ÏŒÎ»Î¿ Ï„Î¿ Ï€ÏÎ¿ÏƒÏ‰Ï€Î¹ÎºÏŒ)',
                page: 'TEK6_AR.html',
                critical: false,
                clue: true
            },
            {
                id: '7',
                name: 'Î§ÎµÎ¹ÏÏŒÎ³ÏÎ±Ï†Î¿ Î£Î·Î¼ÎµÎ¯Ï‰Î¼Î±',
                subtitle: 'Î§ÎµÎ¹ÏÏŒÎ³ÏÎ±Ï†Î¿ ÏƒÎ·Î¼ÎµÎ¯Ï‰Î¼Î±',
                icon: 'âœï¸',
                description: '<strong>ÎšÎµÎ¯Î¼ÎµÎ½Î¿:</strong> Â«Î£Ï…Î³Ï‡ÏÏÎµÏƒÎ­ Î¼Îµ Îœ.Â»<br><strong>Î‘Î½Î¬Î»Ï…ÏƒÎ·:</strong> ÎœÎ¯Î¼Î·ÏƒÎ· Î³ÏÎ±Ï†Î¹ÎºÎ¿Ï Ï‡Î±ÏÎ±ÎºÏ„Î®ÏÎ± (65% Ï„Î±ÏÏ„Î¹ÏƒÎ·, Ï€Î¯ÎµÏƒÎ· Î±ÏƒÏ…Î½ÎµÏ€Î®Ï‚)',
                page: 'TEK7_AR.html',
                critical: false,
                forgery: true
            },
            {
                id: '8',
                name: 'Î¦Î¬ÎºÎµÎ»Î¿Ï‚ Î•Î¼Ï€Î¹ÏƒÏ„ÎµÏ…Ï„Î¹ÎºÏŒ',
                subtitle: 'Î¦Î¬ÎºÎµÎ»Î¿Ï‚ Â«Î•ÎœÎ Î™Î£Î¤Î•Î¥Î¤Î™ÎšÎŸÂ»',
                icon: 'ğŸ“‚',
                description: '<strong>Î ÎµÏÎ¹ÎµÏ‡ÏŒÎ¼ÎµÎ½Î±:</strong><br>â€¢ Î¥Ï€ÎµÎ¾Î±Î¯ÏÎµÏƒÎ· â‚¬1,5ÎµÎº (Î‘Î½Î±Î³Î½ÏÏƒÏ„Î¿Ï…)<br>â€¢ Î•ÏÏ‰Ï„Î¹ÎºÎ­Ï‚ Ï†Ï‰Ï„Î¿Î³ÏÎ±Ï†Î¯ÎµÏ‚ (ÎœÎ±Ï…ÏÎ¯Î´Î·)<br>â€¢ ÎšÎ»Î¿Ï€Î® Ï‡ÎµÎ¹ÏÎ¿Î³ÏÎ¬Ï†Ï‰Î½ (ÎÎ¹ÎºÎ¿Î»Î¬Î¿Ï…)',
                page: 'TEK8_AR.html',
                critical: false,
                blackmail: true
            },
            {
                id: '9',
                name: 'Î‘Ï€ÏŒÎ´ÎµÎ¹Î¾Î· Î§Î·Î¼Î¹ÎºÏÎ½',
                subtitle: 'Î‘Ï€ÏŒÎ´ÎµÎ¹Î¾Î· Î±Î³Î¿ÏÎ¬Ï‚ Ï‡Î·Î¼Î¹ÎºÏÎ½',
                icon: 'ğŸ§ª',
                description: '<strong>Î—Î¼ÎµÏÎ¿Î¼Î·Î½Î¯Î±:</strong> 19/09, 14:30<br><strong>Î‘Î³Î¿ÏÎ¬:</strong> ÎšÏ…Î±Î½Î¹Î¿ÏÏ‡Î¿ ÎºÎ¬Î»Î¹Î¿ Î±Ï€ÏŒ Â«Î§Î·Î¼Î¹ÎºÎ¬PlusÂ»<br><strong>Î†Î´ÎµÎ¹Î±:</strong> Î‘Ï€ÎµÎ½Ï„ÏŒÎ¼Ï‰ÏƒÎ· ÎµÏ„Î±Î¹ÏÎµÎ¯Î±Ï‚ â€¢ Î¥Ï€Î¿Î³ÏÎ±Ï†Î®: Î“. Î ÎµÏ„ÏÏŒÏ€Î¿Ï…Î»Î¿Ï‚ (Ï…Ï€ÏŒ Î³ÏÎ±Ï†Î¿Î»Î¿Î³Î¹ÎºÎ® ÎµÎ¾Î­Ï„Î±ÏƒÎ·)',
                page: 'TEK9_AR.html',
                critical: true
            },
            {
                id: '10',
                name: 'ÎšÎ»ÎµÎ¹Î´Î¯ Î§ÏÎ·Î¼Î±Ï„Î¿ÎºÎ¹Î²Ï‰Ï„Î¯Î¿Ï…',
                subtitle: 'ÎšÎ»ÎµÎ¹Î´Î¯ Ï‡ÏÎ·Î¼Î±Ï„Î¿ÎºÎ¹Î²Ï‰Ï„Î¯Î¿Ï…',
                icon: 'ğŸ”‘',
                description: '<strong>Î‘Ï€Î¿Ï„Ï…Ï€ÏÎ¼Î±Ï„Î±:</strong> Î”Î·Î¼Î·Ï„ÏÎ¯Î¿Ï…, Î‘Î½Î±Î³Î½ÏÏƒÏ„Î¿Ï…<br><strong>ÎŠÏ‡Î½Î·:</strong> Î£ÎºÏŒÎ½Î· Ï„Î±Î»Îº (Î±Ï€ÏŒ latex Î³Î¬Î½Ï„Î¹Î±)',
                page: 'TEK10_AR.html',
                critical: false,
                financial: true
            },
            {
                id: '11',
                name: 'ÎšÎ¬Î¼ÎµÏÎµÏ‚ Î‘ÏƒÏ†Î±Î»ÎµÎ¯Î±Ï‚',
                subtitle: 'ÎšÎ¬Î¼ÎµÏÎµÏ‚ Î±ÏƒÏ†Î±Î»ÎµÎ¯Î±Ï‚',
                icon: 'ğŸ“¹',
                description: '<strong>Î‘Ï€ÎµÎ½ÎµÏÎ³Î¿Ï€Î¿Î¯Î·ÏƒÎ·:</strong> 20:55<br><strong>Î¤ÎµÏ„ÏÎ¬Î´Î¹Î¿ Î£Ï…Î¼Î²Î¬Î½Ï„Ï‰Î½:</strong> Â«20:58 - Î¤ÎµÏ‡Î½Î¹ÎºÎ® Î²Î»Î¬Î²Î· CCTVÂ»<br><strong>Î¥Ï€Î¿Î³ÏÎ±Ï†Î®:</strong> Î Î•Î¤Î¡ÎŸÎ ÎŸÎ¥Î›ÎŸÎ£ Î“. (Î³Î½Î·ÏƒÎ¹ÏŒÏ„Î·Ï„Î± Ï…Ï€ÏŒ ÎµÎ¾Î­Ï„Î±ÏƒÎ·)',
                page: 'TEK11_AR.html',
                critical: false,
                sabotage: true
            }
        ];

        const CORRECT_SUSPECTS = ['konstantinos', 'georgios', 'eleni'];
        const SUSPECT_NAMES = {
            'maria': 'Î Î±Ï€Î±Î´Î¿Ï€Î¿ÏÎ»Î¿Ï… ÎœÎ±ÏÎ¯Î±',
            'konstantinos': 'Î‘Î½Î±Î³Î½ÏÏƒÏ„Î¿Ï… ÎšÏ‰Î½ÏƒÏ„Î±Î½Ï„Î¯Î½Î¿Ï‚',
            'eleni': 'ÎœÎ±Ï…ÏÎ¯Î´Î· Î•Î»Î­Î½Î·',
            'georgios': 'Î ÎµÏ„ÏÏŒÏ€Î¿Ï…Î»Î¿Ï‚ Î“ÎµÏÏÎ³Î¹Î¿Ï‚',
            'alexandra': 'ÎÎ¹ÎºÎ¿Î»Î¬Î¿Ï… Î‘Î»ÎµÎ¾Î¬Î½Î´ÏÎ±',
            'suicide': 'Î‘Ï…Ï„Î¿ÎºÏ„Î¿Î½Î¯Î±'
        };

        const SCORING = {
            murder_diagnosis: 25,
            cooperation: 20,
            perpetrator: 15,
            timeline: 5,
            evidence_use: 5,
            exclusion: 5,
            prompts_1_5: 20,
            prompts_6_10: 10,
            prompts_11_15: 5,
            time_under_30: 15,
            time_30_45: 10,
            time_45_60: 5
        };

        const urlParams = new URLSearchParams(window.location.search);
        const teamCode = urlParams.get('team') || 'default';

        if (teamCode !== 'default') {
            document.getElementById('teamInfo').style.display = 'block';
            document.getElementById('teamName').textContent = `ÎŸÎ¼Î¬Î´Î±: ${teamCode}`;
        }

        let timerInterval = null;

        function getStorageKey() {
            return `unlocked_teks_${teamCode}`;
        }

        function getUnlockedTeks() {
            return JSON.parse(localStorage.getItem(getStorageKey()) || '[]');
        }

        function formatElapsedTime(ms) {
            const seconds = Math.floor(ms / 1000);
            const minutes = Math.floor(seconds / 60);
            const hours = Math.floor(minutes / 60);
            
            const h = hours;
            const m = minutes % 60;
            const s = seconds % 60;
            
            if (h > 0) {
                return `${h}Ï‰ ${m}Î» ${s}Î´`;
            } else if (m > 0) {
                return `${m}Î» ${s}Î´`;
            } else {
                return `${s}Î´`;
            }
        }

        function startLiveTimer(startTime) {
            if (timerInterval) clearInterval(timerInterval);
            
            const timerElement = document.getElementById('liveTimer');
            if (!timerElement) return;
            
            timerInterval = setInterval(() => {
                const now = new Date();
                const start = new Date(startTime);
                const elapsed = now - start;
                timerElement.textContent = formatElapsedTime(elapsed);
            }, 1000);
        }

        function stopTimer() {
            if (timerInterval) {
                clearInterval(timerInterval);
                timerInterval = null;
            }
        }

        async function getTeamData() {
            if (window.firebaseDB) {
                try {
                    const docRef = window.firebaseDoc(window.firebaseDB, 'teams', teamCode);
                    const docSnap = await window.firebaseGetDoc(docRef);
                    
                    if (docSnap.exists()) {
                        return docSnap.data();
                    }
                } catch (error) {
                    console.error('Firebase load error:', error);
                }
            }
            
            const localData = localStorage.getItem(getStorageKey());
            if (localData) {
                return {
                    unlocked: JSON.parse(localData),
                    timestamps: {},
                    startTime: null,
                    completedAt: null,
                    totalTimeMs: null,
                    solution: null
                };
            }
            
            return {
                unlocked: [],
                timestamps: {},
                startTime: null,
                completedAt: null,
                totalTimeMs: null,
                solution: null
            };
        }

        async function updateProgress(teamData) {
            const unlockedTeks = teamData.unlocked || [];
            const total = teks.length;
            const unlocked = unlockedTeks.length;
            const percentage = Math.round((unlocked / total) * 100);

            document.getElementById('progressFill').style.width = percentage + '%';
            document.getElementById('progressFill').textContent = percentage + '%';
            document.getElementById('progressText').textContent = 
                `ÎˆÏ‡ÎµÏ„Îµ Î¾ÎµÎºÎ»ÎµÎ¹Î´ÏÏƒÎµÎ¹ ${unlocked} Î±Ï€ÏŒ ${total} Ï„ÎµÎºÎ¼Î®ÏÎ¹Î±`;
            
            const timerSection = document.getElementById('timerSection');
            if (teamData.startTime && unlocked > 0) {
                timerSection.style.display = 'block';
                document.getElementById('startTime').textContent = 
                    new Date(teamData.startTime).toLocaleString('el-GR', {
                        day: '2-digit',
                        month: '2-digit',
                        year: 'numeric',
                        hour: '2-digit',
                        minute: '2-digit'
                    });
                
                if (teamData.completedAt || teamData.solution) {
                    document.getElementById('liveTimerLabel').textContent = 'Î£Ï…Î½Î¿Î»Î¹ÎºÏŒÏ‚ Î§ÏÏŒÎ½Î¿Ï‚:';
                    document.getElementById('liveTimer').textContent = formatElapsedTime(teamData.totalTimeMs || 0);
                    stopTimer();
                } else {
                    document.getElementById('liveTimerLabel').textContent = 'Î§ÏÏŒÎ½Î¿Ï‚ ÏƒÎµ Î•Î¾Î­Î»Î¹Î¾Î·:';
                    startLiveTimer(teamData.startTime);
                }
            }
        }
function calculateScore(selectedSuspects, totalTimeMs, promptCount) {
    let score = 0;
    let breakdown = [];
    if (selectedSuspects.length === 0) {
        return {
            score: 0,
            breakdown: ['âŒ Î”ÎµÎ½ ÎµÏ€Î¹Î»Î­Î¾Î±Ï„Îµ ÎºÎ±Î½Î­Î½Î±Î½ ÏÏ€Î¿Ï€Ï„Î¿ Î® Î±Ï…Ï„Î¿ÎºÏ„Î¿Î½Î¯Î±'],
            maxScore: 140,
            correctCount: 0
        };
    }
	
    const hasSuicide = selectedSuspects.includes('suicide');
    const hasKiller = selectedSuspects.some(s => s !== 'suicide');
    
    if (hasSuicide && hasKiller) {
        const killerNames = selectedSuspects
            .filter(s => s !== 'suicide')
            .map(s => SUSPECT_NAMES[s])
            .join(', ');
        
        return {
            score: 0,
            breakdown: [
                'âŒ Î›ÎŸÎ“Î™ÎšÎ— Î‘ÎÎ¤Î™Î¦Î‘Î£Î— - Î’Î‘Î˜ÎœÎŸÎ£: 0/140',
                '',
                'âš ï¸ Î•Ï€Î¹Î»Î­Î¾Î±Ï„Îµ Ï„Î±Ï…Ï„ÏŒÏ‡ÏÎ¿Î½Î±:',
                `   â€¢ Î”Î¿Î»Î¿Ï†Î¿Î½Î¯Î± Î±Ï€ÏŒ: ${killerNames}`,
                '   â€¢ Î‘Ï…Ï„Î¿ÎºÏ„Î¿Î½Î¯Î±',
                '',
                'Î‘Ï…Ï„Î­Ï‚ Î¿Î¹ Î´ÏÎ¿ ÎµÏ€Î¹Î»Î¿Î³Î­Ï‚ Î±Î»Î»Î·Î»Î¿Î±Ï€Î¿ÎºÎ»ÎµÎ¯Î¿Î½Ï„Î±Î¹!',
                'Î”ÎµÎ½ Î¼Ï€Î¿ÏÎµÎ¯ Î½Î± ÎµÎ¯Î½Î±Î¹ ÎºÎ±Î¹ Î´Î¿Î»Î¿Ï†Î¿Î½Î¯Î± ÎšÎ‘Î™ Î±Ï…Ï„Î¿ÎºÏ„Î¿Î½Î¯Î±.',
                '',
            ],
            maxScore: 140,
            correctCount: 0
        };
    }

    if (hasSuicide && !hasKiller) {
        return {
            score: 0,
            breakdown: [
                'âœ— Î›Î‘Î˜ÎŸÎ£ Î”Î™Î‘Î“ÎÎ©Î£Î—: Î‘Ï…Ï„Î¿ÎºÏ„Î¿Î½Î¯Î± - Î’Î‘Î˜ÎœÎŸÎ£: 0/140',
                '',
                'âŒ Î— Î±Ï€Î¬Î½Ï„Î·ÏƒÎ® ÏƒÎ±Ï‚ (Î±Ï…Ï„Î¿ÎºÏ„Î¿Î½Î¯Î±) ÎµÎ¯Î½Î±Î¹ Î»Î±Î½Î¸Î±ÏƒÎ¼Î­Î½Î·!',
                '',
            ],
            maxScore: 140,
            correctCount: 0
        };
    }

    let correctCount = 0;
    let wrongSuspects = [];
    
    selectedSuspects.forEach(suspect => {
        if (CORRECT_SUSPECTS.includes(suspect)) {
            correctCount++;
        } else {
            wrongSuspects.push(SUSPECT_NAMES[suspect] || suspect);
        }
    });
        
    breakdown.push('âœ“ Î˜Î•Î¤Î™ÎšÎ‘ Î£Î¤ÎŸÎ™Î§Î•Î™Î‘:');    
    score += SCORING.murder_diagnosis;
    breakdown.push(`âœ“ Î”Î¹Î¬Î³Î½Ï‰ÏƒÎ· Î”Î¿Î»Î¿Ï†Î¿Î½Î¯Î±Ï‚: +${SCORING.murder_diagnosis}`);
    if (correctCount > 0) {
        const points = correctCount * SCORING.perpetrator;
        score += points;
        breakdown.push(`âœ“ Î£Ï‰ÏƒÏ„Î¿Î¯ Î”ÏÎ¬ÏƒÏ„ÎµÏ‚ (${correctCount}/3): +${points}`);
    } else {
        breakdown.push(`âœ— Î£Ï‰ÏƒÏ„Î¿Î¯ Î”ÏÎ¬ÏƒÏ„ÎµÏ‚ (0/3): +0`);
    }
    if (correctCount >= 2) {
        score += SCORING.cooperation;
        breakdown.push(`âœ“ Î•Î½Ï„Î¿Ï€Î¹ÏƒÎ¼ÏŒÏ‚ Î£Ï…Î½ÎµÏÎ³Î±ÏƒÎ¯Î±Ï‚: +${SCORING.cooperation}`);
    } else {
        breakdown.push(`âœ— Î•Î½Ï„Î¿Ï€Î¹ÏƒÎ¼ÏŒÏ‚ Î£Ï…Î½ÎµÏÎ³Î±ÏƒÎ¯Î±Ï‚: +0 (Î±Ï€Î±Î¹Ï„Î¿ÏÎ½Ï„Î±Î¹ 2+ ÏƒÏ‰ÏƒÏ„Î¿Î¯)`);
    }
    if (correctCount === 3 && selectedSuspects.length === 3) {
        const bonus = SCORING.timeline + SCORING.exclusion + SCORING.evidence_use;
        score += bonus;
        breakdown.push(`âœ“ Î¤Î­Î»ÎµÎ¹Î± Î›ÏÏƒÎ· (ÏŒÎ»Î± ÏƒÏ‰ÏƒÏ„Î¬): +${bonus}`);
    } else if (correctCount >= 2) {
        score += SCORING.evidence_use;
        breakdown.push(`âœ“ Î§ÏÎ®ÏƒÎ· Î¤ÎµÎºÎ¼Î·ÏÎ¯Ï‰Î½: +${SCORING.evidence_use}`);
    }
    if (totalTimeMs && correctCount >= 2) {
        const minutes = totalTimeMs / 60000;
        if (minutes < 30) {
            score += SCORING.time_under_30;
            breakdown.push(`â±ï¸ Bonus Î§ÏÏŒÎ½Î¿Ï… (<30Î»): +${SCORING.time_under_30}`);
        } else if (minutes < 45) {
            score += SCORING.time_30_45;
            breakdown.push(`â±ï¸ Bonus Î§ÏÏŒÎ½Î¿Ï… (30-45Î»): +${SCORING.time_30_45}`);
        } else if (minutes < 60) {
            score += SCORING.time_45_60;
            breakdown.push(`â±ï¸ Bonus Î§ÏÏŒÎ½Î¿Ï… (45-60Î»): +${SCORING.time_45_60}`);
        }
    }
    if (promptCount && correctCount >= 2) {
        if (promptCount <= 5) {
            score += SCORING.prompts_1_5;
            breakdown.push(`ğŸ¯ Bonus Î‘Ï€Î¿Î´Î¿Ï„Î¹ÎºÏŒÏ„Î·Ï„Î±Ï‚ (1-5 prompts): +${SCORING.prompts_1_5}`);
        } else if (promptCount <= 10) {
            score += SCORING.prompts_6_10;
            breakdown.push(`ğŸ¯ Bonus Î‘Ï€Î¿Î´Î¿Ï„Î¹ÎºÏŒÏ„Î·Ï„Î±Ï‚ (6-10 prompts): +${SCORING.prompts_6_10}`);
        } else if (promptCount <= 15) {
            score += SCORING.prompts_11_15;
            breakdown.push(`ğŸ¯ Bonus Î‘Ï€Î¿Î´Î¿Ï„Î¹ÎºÏŒÏ„Î·Ï„Î±Ï‚ (11-15 prompts): +${SCORING.prompts_11_15}`);
        }
    }
    if (wrongSuspects.length > 0 || correctCount < 3) {
        breakdown.push('');
        breakdown.push('âœ— Î‘Î¡ÎÎ—Î¤Î™ÎšÎ‘ Î£Î¤ÎŸÎ™Î§Î•Î™Î‘:');
        breakdown.push('â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€');
    }
	
    if (wrongSuspects.length > 0) {
        const penalty = wrongSuspects.length * 5;
        score -= penalty;
        breakdown.push(`âœ— Î›Î¬Î¸Î¿Ï‚ ÎÏ€Î¿Ï€Ï„Î¿Î¹ (${wrongSuspects.length}): -${penalty}`);
        wrongSuspects.forEach(name => {
            breakdown.push(`   â†’ ${name}`);
        });
    }
    if (correctCount < 3) {
        const missed = 3 - correctCount;
        const missedNames = CORRECT_SUSPECTS
            .filter(s => !selectedSuspects.includes(s))
            .map(s => SUSPECT_NAMES[s])
            .join(', ');
        
        breakdown.push(`âš ï¸ Î§Î¬ÏƒÎ±Ï„Îµ ${missed} ÏƒÏ‰ÏƒÏ„ÏŒ${missed > 1 ? 'ÏÏ‚' : ''} Î´ÏÎ¬ÏƒÏ„Î·: ${missedNames}`);
    }
    score = Math.max(0, score);
    breakdown.push('');
    breakdown.push('â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•');
    breakdown.push(`ğŸ“Š Î¤Î•Î›Î™ÎšÎ— Î’Î‘Î˜ÎœÎŸÎ›ÎŸÎ“Î™Î‘: ${score}/${140}`);
    breakdown.push('â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•');
    
    return { score, breakdown, maxScore: 140, correctCount };
}

        async function submitSolution() {
            const checkboxes = document.querySelectorAll('input[name="suspect"]:checked');
            const selectedSuspects = Array.from(checkboxes).map(cb => cb.value);
            const justification = document.getElementById('justification').value.trim();
            const promptCount = parseInt(document.getElementById('promptCount').value) || 0;

            if (selectedSuspects.length === 0) {
                alert('Î Î±ÏÎ±ÎºÎ±Î»Ï ÎµÏ€Î¹Î»Î­Î¾Ï„Îµ Ï„Î¿Ï…Î»Î¬Ï‡Î¹ÏƒÏ„Î¿Î½ Î­Î½Î±Î½ ÏÏ€Î¿Ï€Ï„Î¿ Î® Î±Ï…Ï„Î¿ÎºÏ„Î¿Î½Î¯Î±!');
                return;
            }
            
            if (!justification || justification.length < 50) {
                alert('Î Î±ÏÎ±ÎºÎ±Î»Ï ÏƒÏ…Î¼Ï€Î»Î·ÏÏÏƒÏ„Îµ Î±Î½Î±Î»Ï…Ï„Î¹ÎºÎ® Î±Î¹Ï„Î¹Î¿Î»ÏŒÎ³Î·ÏƒÎ· (Ï„Î¿Ï…Î»Î¬Ï‡Î¹ÏƒÏ„Î¿Î½ 50 Ï‡Î±ÏÎ±ÎºÏ„Î®ÏÎµÏ‚)!');
                return;
            }
            
            if (!promptCount || promptCount < 0) {
                alert('Î Î±ÏÎ±ÎºÎ±Î»Ï ÎµÎ¹ÏƒÎ¬Î³ÎµÏ„Îµ Î­Î³ÎºÏ…ÏÎ¿ Î±ÏÎ¹Î¸Î¼ÏŒ prompts!');
                return;
            }
			
            const teamData = await getTeamData();
            if (teamData.unlocked.length < 6) {
                alert(`Î ÏÎ­Ï€ÎµÎ¹ Î½Î± Î¾ÎµÎºÎ»ÎµÎ¹Î´ÏÏƒÎµÏ„Îµ Ï„Î¿Ï…Î»Î¬Ï‡Î¹ÏƒÏ„Î¿Î½ 6 Ï„ÎµÎºÎ¼Î®ÏÎ¹Î± Ï€ÏÎ¹Î½ Ï…Ï€Î¿Î²Î¬Î»ÎµÏ„Îµ Î»ÏÏƒÎ·! (ÎˆÏ‡ÎµÏ„Îµ: ${teamData.unlocked.length}/11)`);
                return;
            }

            if (teamData.solution) {
                alert('ÎˆÏ‡ÎµÏ„Îµ Î®Î´Î· Ï…Ï€Î¿Î²Î¬Î»ÎµÎ¹ Î»ÏÏƒÎ·! Î”ÎµÎ½ Î¼Ï€Î¿ÏÎµÎ¯Ï„Îµ Î½Î± Ï…Ï€Î¿Î²Î¬Î»ÎµÏ„Îµ Î¾Î±Î½Î¬.');
                return;
            }
            
            let totalTimeMs = null;
            if (teamData.startTime) {
                const start = new Date(teamData.startTime);
                const now = new Date();
                totalTimeMs = now - start;
            }
            
            const scoreResult = calculateScore(selectedSuspects, totalTimeMs, promptCount);
            
            const solution = {
                suspects: selectedSuspects,
                justification: justification,
                promptCount: promptCount,
                submittedAt: new Date().toISOString(),
                score: scoreResult.score,
                maxScore: scoreResult.maxScore,
                breakdown: scoreResult.breakdown,
                completionTimeMs: totalTimeMs,
                correctCount: scoreResult.correctCount
            };
            
            try {
                const updatedData = {
                    ...teamData,
                    solution: solution,
                    completedAt: solution.submittedAt,
                    totalTimeMs: totalTimeMs
                };
                
                if (window.firebaseDB) {
                    await window.firebaseSetDoc(
                        window.firebaseDoc(window.firebaseDB, 'teams', teamCode),
                        updatedData
                    );
                }
                
                localStorage.setItem(`solution_${teamCode}`, JSON.stringify(solution));
                
                displaySolutionResult(solution);
                
            } catch (error) {
                console.error('Error saving solution:', error);
                alert('Î£Ï†Î¬Î»Î¼Î± Î±Ï€Î¿Î¸Î®ÎºÎµÏ…ÏƒÎ·Ï‚! Î”Î¿ÎºÎ¹Î¼Î¬ÏƒÏ„Îµ Î¾Î±Î½Î¬.');
            }
        }

function displaySolutionResult(solution) {
    const resultDiv = document.getElementById('solutionResult');
    
    const percentage = Math.round((solution.score / solution.maxScore) * 100);
    let grade = '';
    let gradeColor = '';
    if (percentage >= 90) {
        grade = 'DIAMOND ğŸ’';
        gradeColor = '#00d4ff';
    } else if (percentage >= 80) {
        grade = 'GOLD MEDAL ğŸ¥‡';
        gradeColor = '#ffd700';
    } else if (percentage >= 70) {
        grade = 'SILVER MEDAL ğŸ¥ˆ';
        gradeColor = '#c0c0c0';
    } else if (percentage >= 60) {
        grade = 'BRONZE MEDAL ğŸ¥‰';
        gradeColor = '#cd7f32';
    } else if (percentage >= 50) {
        grade = 'STAR â­';
        gradeColor = '#ffcc00';
    } else if (percentage >= 40) {
        grade = 'CHECK âœ”';
        gradeColor = '#28a745';
    } else {
        grade = 'NO TROPHY';
        gradeColor = '#6c757d';
    }

    const isPerfect = solution.correctCount === 3 && solution.suspects.length === 3;
    const hasSuicide = solution.suspects.includes('suicide');
    const hasKiller = solution.suspects.some(s => s !== 'suicide');
    const isContradiction = hasSuicide && hasKiller;
    let headerGradient = 'linear-gradient(135deg, #28a745 0%, #20c997 100%)';
    let headerShadow = 'rgba(40,167,69,0.3)';
    
    if (isContradiction || solution.score === 0) {
        headerGradient = 'linear-gradient(135deg, #dc3545 0%, #c82333 100%)';
        headerShadow = 'rgba(220,53,69,0.3)';
    } else if (percentage < 50) {
        headerGradient = 'linear-gradient(135deg, #ffc107 0%, #ff9800 100%)';
        headerShadow = 'rgba(255,193,7,0.3)';
    }

    let breakdownHTML = '';
    solution.breakdown.forEach(item => {
        let bgColor = '#f8f9fa';
        let borderColor = '#dee2e6';
        let textColor = '#333';
        let fontWeight = 'normal';
        
        if (item.includes('Î›ÎŸÎ“Î™ÎšÎ— Î‘ÎÎ¤Î™Î¦Î‘Î£Î—') || item.includes('Î›Î‘Î˜ÎŸÎ£ Î”Î™Î‘Î“ÎÎ©Î£Î—')) {
            bgColor = '#f8d7da';
            borderColor = '#dc3545';
            textColor = '#721c24';
            fontWeight = 'bold';
        } else if (item.includes('âœ“') || item.includes('+')) {
            bgColor = '#d4edda';
            borderColor = '#28a745';
            textColor = '#155724';
        } else if (item.includes('âœ—') || item.includes('-') || item.includes('âŒ')) {
            bgColor = '#fff3cd';
            borderColor = '#ffc107';
            textColor = '#856404';
        } else if (item.includes('âš ï¸')) {
            bgColor = '#fff3cd';
            borderColor = '#ffc107';
            textColor = '#856404';
        } else if (item.includes('ğŸ’¡')) {
            bgColor = '#e7f3ff';
            borderColor = '#2196f3';
            textColor = '#0d47a1';
        } else if (item.includes('Î¤Î•Î›Î™ÎšÎ— Î’Î‘Î˜ÎœÎŸÎ›ÎŸÎ“Î™Î‘')) {
            bgColor = '#e3f2fd';
            borderColor = '#2196f3';
            textColor = '#0d47a1';
            fontWeight = 'bold';
        } else if (item.includes('â•”') || item.includes('â”€')) {
            breakdownHTML += '<div style="color: #999; margin: 5px 0;">' + item + '</div>';
            return;
        } else if (item.trim() === '') {
            breakdownHTML += '<div style="height: 5px;"></div>';
            return;
        }
		
        if (item.startsWith('   ')) {
            breakdownHTML += '<div style="padding: 4px 4px 4px 30px; margin: 2px 0; color: ' + textColor + '; font-size: 13px;">' + item + '</div>';
        } else {
            breakdownHTML += '<div style="padding: 10px 15px; margin: 5px 0; background: ' + bgColor + '; border-left: 4px solid ' + borderColor + '; border-radius: 4px; color: ' + textColor + '; font-weight: ' + fontWeight + ';">' + item + '</div>';
        }
    });
	
    let statsHTML = '<div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(150px, 1fr)); gap: 15px; margin-top: 20px; max-width: 600px; margin-left: auto; margin-right: auto;">';
    
    statsHTML += '<div style="background: rgba(255,255,255,0.2); padding: 15px; border-radius: 10px; border: 2px solid rgba(255,255,255,0.3);">';
    statsHTML += '<div style="font-size: 14px; opacity: 0.8; margin-bottom: 5px;">Î ÎŸÎ£ÎŸÎ£Î¤ÎŸ</div>';
    statsHTML += '<div style="font-size: 24px; font-weight: bold;">' + percentage + '%</div>';
    statsHTML += '</div>';
    
    if (solution.completionTimeMs) {
        statsHTML += '<div style="background: rgba(255,255,255,0.2); padding: 15px; border-radius: 10px; border: 2px solid rgba(255,255,255,0.3);">';
        statsHTML += '<div style="font-size: 14px; opacity: 0.8; margin-bottom: 5px;">â±ï¸ Î§Î¡ÎŸÎÎŸÎ£</div>';
        statsHTML += '<div style="font-size: 24px; font-weight: bold;">' + formatElapsedTime(solution.completionTimeMs) + '</div>';
        statsHTML += '</div>';
    }
    
    statsHTML += '<div style="background: rgba(255,255,255,0.2); padding: 15px; border-radius: 10px; border: 2px solid rgba(255,255,255,0.3);">';
    statsHTML += '<div style="font-size: 14px; opacity: 0.8; margin-bottom: 5px;">ğŸ¯ PROMPTS</div>';
    statsHTML += '<div style="font-size: 24px; font-weight: bold;">' + solution.promptCount + '</div>';
    statsHTML += '</div>';
    
    statsHTML += '</div>';

    resultDiv.innerHTML = '<div style="background: ' + headerGradient + '; color: white; padding: 30px; border-radius: 15px; margin: 20px 0; text-align: center; box-shadow: 0 10px 40px ' + headerShadow + ';">' +
        '<h2 style="font-size: 32px; margin-bottom: 15px;">' +
        (isPerfect ? 'ğŸ‰ Î¤Î•Î›Î•Î™Î‘ Î›Î¥Î£Î—!' : isContradiction ? 'âŒ Î›ÎŸÎ“Î™ÎšÎ— Î‘ÎÎ¤Î™Î¦Î‘Î£Î—' : solution.score === 0 ? 'âŒ Î›Î¬Î¸Î¿Ï‚ Î‘Ï€Î¬Î½Ï„Î·ÏƒÎ·' : 'âœ” Î›ÏÏƒÎ· Î¥Ï€Î¿Î²Î»Î®Î¸Î·ÎºÎµ') +
        '</h2>' +
        '<div style="font-size: 64px; font-weight: bold; margin: 20px 0;">' + solution.score + '/' + solution.maxScore + '</div>' +
        '<div style="font-size: 28px; margin-bottom: 20px; color: ' + gradeColor + '; text-shadow: 2px 2px 4px rgba(0,0,0,0.3);">' + grade + '</div>' +
        statsHTML +
        '</div>' +
        
        '<div style="background: #fff3cd; border: 2px solid #ffc107; padding: 20px; border-radius: 10px; margin-top: 20px;">' +
        '<h3 style="color: #856404; margin-bottom: 15px;">ğŸ’¡ Î‘ÎÎ‘Î›Î¥Î£Î— Î’Î‘Î˜ÎœÎŸÎ›ÎŸÎ“Î™Î‘Î£ & Î£Î©Î£Î¤Î— Î›Î¥Î£Î—</h3>' +
        '<p style="color: #856404; margin-bottom: 10px;">Î“Î¹Î± Î½Î± Î´ÎµÎ¯Ï„Îµ Ï„Î·Î½ Î±Î½Î±Î»Ï…Ï„Î¹ÎºÎ® Î²Î±Î¸Î¼Î¿Î»Î¿Î³Î¯Î± ÎºÎ±Î¹ Ï„Î· ÏƒÏ‰ÏƒÏ„Î® Î»ÏÏƒÎ·, ÎµÎ¹ÏƒÎ¬Î³ÎµÏ„Îµ Ï„Î¿Î½ ÎºÏ‰Î´Î¹ÎºÏŒ Ï€Î¿Ï… ÏƒÎ±Ï‚ Î­Î´Ï‰ÏƒÎµ Î¿ Î¿ÏÎ³Î±Î½Ï‰Ï„Î®Ï‚:</p>' +
        '<div style="display: flex; gap: 10px; margin-top: 10px; flex-wrap: wrap;">' +
        '<input type="password" id="solutionPassword" placeholder="ÎšÏ‰Î´Î¹ÎºÏŒÏ‚ Ï€ÏÏŒÏƒÎ²Î±ÏƒÎ·Ï‚" style="flex: 1; min-width: 200px; padding: 10px; border: 2px solid #ffc107; border-radius: 8px; font-size: 16px;">' +
        '<button onclick="revealSolution()" style="padding: 10px 20px; background: #ffc107; color: #000; border: none; border-radius: 8px; font-weight: bold; cursor: pointer;">Î•Î¼Ï†Î¬Î½Î¹ÏƒÎ·</button>' +
        '</div>' +
        '<div id="correctSolution" style="display: none; margin-top: 20px; padding-top: 20px; border-top: 2px solid #ffc107;">' +
        '<div style="background: white; padding: 20px; border-radius: 10px; margin-bottom: 20px; border: 2px solid #28a745;">' +
        '<h4 style="color: #1a1a2e; margin-bottom: 15px; font-size: 18px; border-bottom: 2px solid #ff6b00; padding-bottom: 8px;">ğŸ“Š Î‘ÎÎ‘Î›Î¥Î£Î— Î’Î‘Î˜ÎœÎŸÎ›ÎŸÎ“Î™Î‘Î£ Î£Î‘Î£</h4>' +
        '<div style="font-family: \'Courier New\', monospace; line-height: 1.8; font-size: 14px;">' +
        breakdownHTML +
        '</div>' +
        '</div>' +
        '<div style="background: white; padding: 20px; border-radius: 10px; border: 2px solid #dc3545;">' +
        '<h4 style="color: #dc3545; margin-bottom: 15px; font-size: 18px; border-bottom: 2px solid #dc3545; padding-bottom: 8px;">ğŸ¯ Î›Î¥Î£Î—: Î£Î¥ÎÎ•Î¡Î“Î‘Î¤Î™ÎšÎ— Î”ÎŸÎ›ÎŸÎ¦ÎŸÎÎ™Î‘</h4>' +
        
        '<h5 style="color: #1a1a2e; margin: 15px 0 10px 0; font-size: 15px;">Î”Î¡Î‘Î£Î¤Î•Î£:</h5>' +
        '<ul style="color: #333; margin: 0 0 15px 0; padding-left: 25px; line-height: 1.8;">' +
        '<li><strong>Î‘Î½Î±Î³Î½ÏÏƒÏ„Î¿Ï… ÎšÏ‰Î½ÏƒÏ„Î±Î½Ï„Î¯Î½Î¿Ï‚</strong> - CFO Î¼Îµ Ï…Ï€ÎµÎ¾Î±Î¯ÏÎµÏƒÎ· â‚¬1.5ÎµÎº</li>' +
        '<li><strong>Î ÎµÏ„ÏÏŒÏ€Î¿Ï…Î»Î¿Ï‚ Î“ÎµÏÏÎ³Î¹Î¿Ï‚</strong> - Î¦ÏÎ»Î±ÎºÎ±Ï‚ Î¼Îµ Ï‡ÏÎ­Î· â‚¬60k Ï€Î¿Ï… Î±Î³ÏŒÏÎ±ÏƒÎµ ÎºÏ…Î¬Î½Î¹Î¿</li>' +
        '<li><strong>ÎœÎ±Ï…ÏÎ¯Î´Î· Î•Î»Î­Î½Î·</strong> - Î ÏÏÎ·Î½ ÎµÏÏ‰Î¼Î­Î½Î· Î¼Îµ ÎµÎºÎ²Î¹Î±ÏƒÏ„Î¹ÎºÎ­Ï‚ Ï†Ï‰Ï„Î¿Î³ÏÎ±Ï†Î¯ÎµÏ‚</li>' +
        '</ul>' +
        
        '<h5 style="color: #1a1a2e; margin: 15px 0 10px 0; font-size: 15px;">ÎœÎ•Î˜ÎŸÎ”ÎŸÎ£ Î•ÎšÎ¤Î•Î›Î•Î£Î—Î£:</h5>' +
        '<ul style="color: #333; margin: 0 0 15px 0; padding-left: 25px; line-height: 1.8;">' +
        '<li>Î£Ï…Î½ÎµÏÎ³Î±ÏƒÎ¯Î± Î¼ÎµÏ„Î¬ Î±Ï€ÏŒ Î¿Î¹ÎºÎ¿Î½Î¿Î¼Î¹ÎºÎ­Ï‚ Ï…Ï€Î¿ÏƒÏ‡Î­ÏƒÎµÎ¹Ï‚/ÎµÎºÎ´Î¯ÎºÎ·ÏƒÎ·</li>' +
        '<li><strong>Î‘Î½Î±Î³Î½ÏÏƒÏ„Î¿Ï…:</strong> ÎˆÏÎ¹Î¾Îµ ÎºÏ…Î¬Î½Î¹Î¿ ÏƒÏ„Î¿ Î¿Ï…Î¯ÏƒÎºÎ¹ (20:50-21:20)</li>' +
        '<li><strong>Î ÎµÏ„ÏÏŒÏ€Î¿Ï…Î»Î¿Ï‚:</strong> Î‘Ï€ÎµÎ½ÎµÏÎ³Î¿Ï€Î¿Î¯Î·ÏƒÎµ ÎºÎ¬Î¼ÎµÏÎµÏ‚ (20:55)</li>' +
        '<li><strong>ÎœÎ±Ï…ÏÎ¯Î´Î·:</strong> ÎˆÎ³ÏÎ±ÏˆÎµ/Î­ÏƒÏ„ÎµÎ¹Î»Îµ email Â«Î±Ï…Ï„Î¿ÎºÏ„Î¿Î½Î¯Î±Ï‚Â» (21:25)</li>' +
        '</ul>' +
        
        '<h5 style="color: #1a1a2e; margin: 20px 0 10px 0; font-size: 15px;">Î‘Î ÎŸÎ”Î•Î™ÎšÎ¤Î™ÎšÎ‘ Î£Î¤ÎŸÎ™Î§Î•Î™Î‘ & Î Î‘Î¡Î‘Î¤Î—Î¡Î—Î£Î•Î™Î£</h5>' +
        '<p style="color: #333; margin: 10px 0 5px 0; font-weight: bold; font-size: 14px;">Î•Î½Î´ÎµÎ¯Î¾ÎµÎ¹Ï‚ Î”Î¿Î»Î¿Ï†Î¿Î½Î¯Î±Ï‚ vs Î‘Ï…Ï„Î¿ÎºÏ„Î¿Î½Î¯Î±Ï‚:</p>' +
        '<ul style="color: #333; margin: 0 0 15px 0; padding-left: 25px; line-height: 1.7; font-size: 13px;">' +
        '<li>SMS Â«Î˜Î± Ï„ÎµÎ»ÎµÎ¹ÏÏƒÎµÎ¹ Î±Ï€ÏŒÏˆÎµÂ» - Ï„ÏŒÎ½Î¿Ï‚ Î±Ï€ÎµÎ¹Î»Î·Ï„Î¹ÎºÏŒÏ‚</li>' +
        '<li>Î‘Ï€ÎµÎ½ÎµÏÎ³Î¿Ï€Î¿Î¯Î·ÏƒÎ· ÎºÎ¬Î¼ÎµÏÏÎ½ 20:55 - 30 Î»ÎµÏ€Ï„Î¬ Ï€ÏÎ¹Î½ Ï„Î¿ email Â«Î±Ï…Ï„Î¿ÎºÏ„Î¿Î½Î¯Î±Ï‚Â»</li>' +
        '<li>Î”Ï…Î¿ Ï€Î¿Ï„Î®ÏÎ¹Î± Î¼Îµ Î¯Ï‡Î½Î· Î¿Ï…Î¯ÏƒÎºÎ¹ - Î­Î½Î± Î¼Îµ ÎºÏ…Î¬Î½Î¹Î¿, Î­Î½Î± Ï‡Ï‰ÏÎ¯Ï‚</li>' +
        '<li>Î Î±ÏÎ±Î³Î³ÎµÎ»Î¯Î± Ï†Î±Î³Î·Ï„Î¿Ï Î³Î¹Î± 2 Î¬Ï„Î¿Î¼Î± Î±Î»Î»Î¬ Ï„Î¿ Î¸ÏÎ¼Î± Î®Ï„Î±Î½ Î¼ÏŒÎ½Î¿</li>' +
        '<li>Î‘Î»Ï€ÏÎ±Î¶Î¿Î»Î¬Î¼Î· 2mg ÏƒÏ„Î¿ Î±Î¯Î¼Î± Ï„Î¿Ï… Î¸ÏÎ¼Î±Ï„Î¿Ï‚</li>' +
        '<li>Î£Î·Î¼ÎµÎ¯Ï‰Î¼Î± Â«Î£Ï…Î³Ï‡ÏÏÎµÏƒÎ­ Î¼Îµ Îœ.Â» - Î¼Î¯Î¼Î·ÏƒÎ· Î³ÏÎ±Ï†Î®Ï‚ 65% Ï„Î±ÏÏ„Î¹ÏƒÎ·</li>' +
        '</ul>' +
        
        '<p style="color: #333; margin: 10px 0 5px 0; font-weight: bold; font-size: 14px;">Î ÏÏŒÏƒÎ²Î±ÏƒÎ· ÏƒÎµ ÎšÏ…Î¬Î½Î¹Î¿:</p>' +
        '<ul style="color: #333; margin: 0 0 15px 0; padding-left: 25px; line-height: 1.7; font-size: 13px;">' +
        '<li><strong>Î ÎµÏ„ÏÏŒÏ€Î¿Ï…Î»Î¿Ï‚:</strong> Î‘Î³ÏŒÏÎ±ÏƒÎµ ÎºÏ…Î¬Î½Î¹Î¿ 19/09 Î¼Îµ Î¬Î´ÎµÎ¹Î± ÎµÏ„Î±Î¹ÏÎµÎ¯Î±Ï‚</li>' +
        '<li><strong>Î‘Î½Î±Î³Î½ÏÏƒÏ„Î¿Ï…:</strong> Î©Ï‚ CFO Î¼Ï€Î¿ÏÎ¿ÏÏƒÎµ Î½Î± ÎµÎ³ÎºÏÎ¯Î½ÎµÎ¹/ÎµÎºÎ´ÏÏƒÎµÎ¹ Î¬Î´ÎµÎ¹Î±</li>' +
        '<li>Î†Î»Î»Î¿Î¹ ÏÏ€Î¿Ï€Ï„Î¿Î¹: ÎšÎ±Î¼Î¯Î± Ï„ÎµÎºÎ¼Î·ÏÎ¹Ï‰Î¼Î­Î½Î· Ï€ÏÏŒÏƒÎ²Î±ÏƒÎ· ÏƒÎµ ÎºÏ…Î¬Î½Î¹Î¿</li>' +
        '</ul>' +
        
        '<p style="color: #333; margin: 10px 0 5px 0; font-weight: bold; font-size: 14px;">Î ÏÏŒÏƒÎ²Î±ÏƒÎ· ÏƒÎµ Î§ÏÏÎ¿Ï…Ï‚ & Î£Ï…ÏƒÏ„Î®Î¼Î±Ï„Î±:</p>' +
        '<ul style="color: #333; margin: 0 0 15px 0; padding-left: 25px; line-height: 1.7; font-size: 13px;">' +
        '<li><strong>Î‘Î½Î±Î³Î½ÏÏƒÏ„Î¿Ï…:</strong> Î Î»Î®ÏÎ·Ï‚ Ï€ÏÏŒÏƒÎ²Î±ÏƒÎ· Ï‰Ï‚ CFO, Î³Î½Ï‰ÏÎ¯Î¶ÎµÎ¹ ÎºÏ‰Î´Î¹ÎºÎ¿ÏÏ‚ Î´Î¹Î¿Î¯ÎºÎ·ÏƒÎ·Ï‚</li>' +
        '<li><strong>Î ÎµÏ„ÏÏŒÏ€Î¿Ï…Î»Î¿Ï‚:</strong> Î ÏÏŒÏƒÎ²Î±ÏƒÎ· ÏƒÎµ ÏŒÎ»Î¿Ï…Ï‚ Ï„Î¿Ï…Ï‚ Î¿ÏÏŒÏ†Î¿Ï…Ï‚, Î´Î¹ÎºÎ±Î¹ÏÎ¼Î±Ï„Î± Î´Î¹Î±Ï‡ÎµÎ¹ÏÎ¹ÏƒÏ„Î® ÏƒÏ„Î¿ ÏƒÏÏƒÏ„Î·Î¼Î± Î±ÏƒÏ†Î±Î»ÎµÎ¯Î±Ï‚</li>' +
        '<li><strong>ÎœÎ±Ï…ÏÎ¯Î´Î·:</strong> Î ÏÏÎ·Î½ ÏƒÏ‡Î­ÏƒÎ· 2 Ï‡ÏÏŒÎ½Î¹Î±, Î³Î½Ï‰ÏÎ¯Î¶ÎµÎ¹ Ï„Î¿ ÎºÏ„Î¯ÏÎ¹Î¿</li>' +
        '<li><strong>ÎÎ¹ÎºÎ¿Î»Î¬Î¿Ï…:</strong> ÎÎ­Î± Ï…Ï€Î¬Î»Î»Î·Î»Î¿Ï‚ 3 Î¼Î®Î½ÎµÏ‚, Ï€ÎµÏÎ¹Î¿ÏÎ¹ÏƒÎ¼Î­Î½Î· Ï€ÏÏŒÏƒÎ²Î±ÏƒÎ·</li>' +
        '<li><strong>Î Î±Ï€Î±Î´Î¿Ï€Î¿ÏÎ»Î¿Ï…:</strong> Î“ÏÎ±Î¼Î¼Î±Ï„Î­Î±Ï‚ 8 Ï‡ÏÏŒÎ½Î¹Î±, ÎºÎ»ÎµÎ¹Î´Î¹Î¬ Î³ÏÎ±Ï†ÎµÎ¯Î¿Ï…</li>' +
        '</ul>' +
        
        '<p style="color: #333; margin: 10px 0 5px 0; font-weight: bold; font-size: 14px;">ÎšÎ¯Î½Î·Ï„ÏÎ± Î¥Ï€ÏŒÏ€Ï„Ï‰Î½:</p>' +
        '<ul style="color: #333; margin: 0 0 15px 0; padding-left: 25px; line-height: 1.7; font-size: 13px;">' +
        '<li><strong>Î‘Î½Î±Î³Î½ÏÏƒÏ„Î¿Ï…:</strong> Î¥Ï€ÎµÎ¾Î±Î¯ÏÎµÏƒÎ· â‚¬1.5ÎµÎº, ÎºÏÏ…Ï†Î¿Î¯ Î»Î¿Î³Î±ÏÎ¹Î±ÏƒÎ¼Î¿Î¯ Î•Î»Î²ÎµÏ„Î¯Î±Ï‚</li>' +
        '<li><strong>Î ÎµÏ„ÏÏŒÏ€Î¿Ï…Î»Î¿Ï‚:</strong> Î§ÏÎ­Î· â‚¬60k ÏƒÎµ Ï„Î¿ÎºÎ¿Î³Î»ÏÏ†Î¿Ï…Ï‚</li>' +
        '<li><strong>ÎœÎ±Ï…ÏÎ¯Î´Î·:</strong> Î•ÎºÎ²Î¹Î±ÏƒÎ¼ÏŒÏ‚ Î³Î¹Î± ÎµÏÏ‰Ï„Î¹ÎºÎ­Ï‚ Ï†Ï‰Ï„Î¿Î³ÏÎ±Ï†Î¯ÎµÏ‚</li>' +
        '<li><strong>ÎÎ¹ÎºÎ¿Î»Î¬Î¿Ï…:</strong> ÎšÎ»Î¿Ï€Î® Ï‡ÎµÎ¹ÏÏŒÎ³ÏÎ±Ï†Ï‰Î½ Î±Î½Ï„Î±Î³Ï‰Î½Î¹ÏƒÏ„Î¹ÎºÎ¿Ï ÎµÎºÎ´Î¿Ï„Î¹ÎºÎ¿Ï</li>' +
        '<li><strong>Î Î±Ï€Î±Î´Î¿Ï€Î¿ÏÎ»Î¿Ï…:</strong> Î§ÏÏ‰ÏƒÏ„Î¿ÏÏƒÎµ 3 Î¼Î¹ÏƒÎ¸Î¿ÏÏ‚ Ï„Î¿ Î¸ÏÎ¼Î±, Î®Î¾ÎµÏÎµ Î³Î¹Î± ÎºÎ±ÏÎºÎ¯Î½Î¿</li>' +
        '</ul>' +
        
        '<p style="color: #333; margin: 10px 0 5px 0; font-weight: bold; font-size: 14px;">Î”Î·Î»Ï‰Î¼Î­Î½Î± Î†Î»Î»Î¿Î¸Î¹:</p>' +
        '<ul style="color: #333; margin: 0; padding-left: 25px; line-height: 1.7; font-size: 13px;">' +
        '<li><strong>Î Î±Ï€Î±Î´Î¿Ï€Î¿ÏÎ»Î¿Ï…:</strong> Î¡Î±Î½Ï„ÎµÎ²Î¿Ï Î¼Îµ Î³Î¹Î±Ï„ÏÏŒ 18:30-19:30 (ÎµÏ€Î¹Î²ÎµÎ²Î±Î¹Ï‰Î¼Î­Î½Î¿), Î´ÎµÎ¯Ï€Î½Î¿ Î¼Îµ Î±Î´ÎµÎ»Ï†Î® 19:45-22:30</li>' +
        '<li><strong>Î‘Î½Î±Î³Î½ÏÏƒÏ„Î¿Ï…:</strong> Î”ÎµÎ¯Ï€Î½Î¿ Î¼Îµ Ï€ÎµÎ»Î¬Ï„ÎµÏ‚ 18:45-20:30 ÏƒÏ„Î¿ Â«Î”Î¹ÏŒÎ½Ï…ÏƒÎ¿Ï‚Â» (200m Î±Ï€ÏŒ ÎºÏ„Î¯ÏÎ¹Î¿)</li>' +
        '<li><strong>ÎœÎ±Ï…ÏÎ¯Î´Î·:</strong> Î Î±ÏÎ¿Ï…ÏƒÎ¯Î±ÏƒÎ· Î²Î¹Î²Î»Î¯Î¿Ï… 19:30-20:30, Î¼ÎµÏ„Î¬ ÏƒÏ„Î¿ ÎºÏ„Î¯ÏÎ¹Î¿ Î³Î¹Î± Î±Î½Ï„Î¯Ï„Ï…Ï€Î±</li>' +
        '<li><strong>Î ÎµÏ„ÏÏŒÏ€Î¿Ï…Î»Î¿Ï‚:</strong> Î’Î¬ÏÎ´Î¹Î± ÏŒÎ»Î¿ Ï„Î¿ Î²ÏÎ¬Î´Ï…, Ï€ÎµÏÎ¹Ï€Î¿Î»Î¯ÎµÏ‚ ÎºÎ¬Î¸Îµ 2 ÏÏÎµÏ‚</li>' +
        '<li><strong>ÎÎ¹ÎºÎ¿Î»Î¬Î¿Ï…:</strong> Î™ÏƒÏ‡Ï…ÏÎ¯Î¶ÎµÏ„Î±Î¹ Î®Ï„Î±Î½ ÏƒÏ„Î¿ Â«ÎœÎ¹ÎºÏÏŒ ÎšÎ±Ï†Î­Â» Î¼Î­Ï‡ÏÎ¹ 20:30</li>' +
        '</ul>' +
        
        '</div>' +
        '</div>' +
        '</div>';
    
    resultDiv.style.display = 'block';
    resultDiv.scrollIntoView({ behavior: 'smooth', block: 'nearest' });
    document.getElementById('solutionForm').style.opacity = '0.6';
    document.getElementById('solutionForm').style.pointerEvents = 'none';
    
    stopTimer();
}

        window.revealSolution = function() {
            const password = document.getElementById('solutionPassword').value.toUpperCase();
            const correctPassword = 'MURDER';
            
            if (password === correctPassword) {
                document.getElementById('correctSolution').style.display = 'block';
                document.getElementById('solutionPassword').disabled = true;
                const button = document.getElementById('solutionPassword').parentElement.querySelector('button');
                if (button) button.disabled = true;
            } else {
                alert('âŒ Î›Î¬Î¸Î¿Ï‚ ÎºÏ‰Î´Î¹ÎºÏŒÏ‚! Î–Î·Ï„Î®ÏƒÏ„Îµ Ï„Î¿Î½ ÏƒÏ‰ÏƒÏ„ÏŒ ÎºÏ‰Î´Î¹ÎºÏŒ Î±Ï€ÏŒ Ï„Î¿Î½ Î¿ÏÎ³Î±Î½Ï‰Ï„Î®.');
                document.getElementById('solutionPassword').value = '';
            }
        };

        function buildUrl(page) {
            return teamCode !== 'default' ? `${page}?team=${teamCode}` : page;
        }

        function renderEvidence() {
            const unlockedTeks = getUnlockedTeks();
            const grid = document.getElementById('evidenceGrid');
            
            grid.innerHTML = teks.map(tek => {
                const isUnlocked = unlockedTeks.includes(tek.id);
                const cardClass = isUnlocked ? 'unlocked' : 'locked';
                
                let criticalTag = '';
                if (tek.critical) criticalTag = '<span class="critical-tag">ÎšÎ¡Î™Î£Î™ÎœÎŸ</span>';
                else if (tek.secret) criticalTag = '<span class="critical-tag">Î‘Î ÎŸÎ¡Î¡Î—Î¤ÎŸ</span>';
                else if (tek.blackmail) criticalTag = '<span class="critical-tag">Î•ÎšÎ’Î™Î‘Î£ÎœÎŸÎ£</span>';
                else if (tek.sabotage) criticalTag = '<span class="critical-tag">Î£Î‘ÎœÎ ÎŸÎ¤Î‘Î–</span>';
                else if (tek.threat) criticalTag = '<span class="critical-tag">Î‘Î Î•Î™Î›Î—</span>';
                else if (tek.forgery) criticalTag = '<span class="critical-tag">Î Î›Î‘Î£Î¤ÎŸÎ“Î¡Î‘Î¦Î™Î‘</span>';
                else if (tek.clue) criticalTag = '<span class="critical-tag">Î•ÎÎ”Î•Î™ÎÎ—</span>';
                else if (tek.financial) criticalTag = '<span class="critical-tag">ÎŸÎ™ÎšÎŸÎÎŸÎœÎ™ÎšÎŸ</span>';
                
                return `
                    <div class="evidence-card ${cardClass}">
                        ${criticalTag}
                        ${!isUnlocked ? '<div class="lock-overlay">ğŸ”’</div>' : ''}
                        <div class="evidence-header">
                            <div class="evidence-icon">${tek.icon}</div>
                            <div class="evidence-info">
                                <h3>Î¤Î•Îš #${tek.id.padStart(3, '0')}</h3>
                                <p>${tek.subtitle}</p>
                            </div>
                        </div>
                        <p class="evidence-description">
                            ${isUnlocked ? tek.description : 'ğŸ”’ ÎÎµÎºÎ»ÎµÎ¹Î´ÏÏƒÏ„Îµ Î±Ï…Ï„ÏŒ Ï„Î¿ Ï„ÎµÎºÎ¼Î®ÏÎ¹Î¿ Î³Î¹Î± Î½Î± Î´ÎµÎ¯Ï„Îµ Î»ÎµÏ€Ï„Î¿Î¼Î­ÏÎµÎ¹ÎµÏ‚'}
                        </p>
                        <div class="evidence-actions">
                            ${isUnlocked ? 
                                `<a href="${buildUrl(tek.page)}" class="btn btn-ar">
                                    ğŸ‘ï¸ Î ÏÎ¿Î²Î¿Î»Î® Î¤ÎµÎºÎ¼Î·ÏÎ¯Î¿Ï…
                                </a>` :
                                `<button class="btn btn-ar" disabled>ğŸ”’ ÎšÎ»ÎµÎ¹Î´Ï‰Î¼Î­Î½Î¿</button>`
                            }
                        </div>
                        <span class="status-badge ${isUnlocked ? 'status-unlocked' : 'status-locked'}">
                            ${isUnlocked ? 'âœ… Î”Î™Î‘Î˜Î•Î£Î™ÎœÎŸ' : 'ğŸ”’ ÎšÎ›Î•Î™Î”Î©ÎœÎ•ÎÎŸ'}
                        </span>
                    </div>
                `;
            }).join('');
        }

        async function initSolutionTab(teamData) {
            const existingSolution = teamData.solution;
            
            if (existingSolution) {
                displaySolutionResult(existingSolution);
            }
        }

        window.addEventListener('DOMContentLoaded', async () => {
            initTabs();
            
            try {
                if (typeof SuspectsModule !== 'undefined') {
                    SuspectsModule.renderSuspects('suspectsContainer');
                } else {
                    console.error('SuspectsModule not loaded! Make sure suspects.js is included before this script.');
                }
                
                renderEvidence();
                
                const teamData = await getTeamData();
                await updateProgress(teamData);
                await initSolutionTab(teamData);
            } catch (error) {
                console.error('Error during initialization:', error);
            }
        });

        window.addEventListener('storage', async (e) => {
            if (e.key === getStorageKey()) {
                renderEvidence();
                const teamData = await getTeamData();
                await updateProgress(teamData);
            }
        });
        
        function initTabs() {
            const tabButtons = document.querySelectorAll('.tab-button');
            const tabPanes = document.querySelectorAll('.tab-pane');

            tabButtons.forEach(button => {
                button.addEventListener('click', () => {
                    const targetTab = button.getAttribute('data-tab');

                    tabButtons.forEach(btn => btn.classList.remove('active'));
                    tabPanes.forEach(pane => pane.classList.remove('active'));
                    button.classList.add('active');
                    document.getElementById(`tab-${targetTab}`).classList.add('active');
                });
            });
        }

        window.submitSolution = submitSolution;
    </script>
</body>
</html>