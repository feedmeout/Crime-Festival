<!DOCTYPE html>
<html lang="el">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0">
    <title>Î Î±ÏÎ±Ï„Î®ÏÎ·ÏƒÎ· Game Master - Crime Festival 2025</title>

    <script type="module">
        import { initializeApp } from 'https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js';
        import { getFirestore, doc, setDoc, getDoc, getDocs, collection, updateDoc, deleteDoc } from 'https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore.js';
        
        const firebaseConfig = {
            apiKey: "AIzaSyA_9_40aa_wO_19g-1bIrSB6742aMOPwjo",
            authDomain: "crime-festival-2025.firebaseapp.com",
            projectId: "crime-festival-2025",
            storageBucket: "crime-festival-2025.firebasestorage.app",
            messagingSenderId: "663770004335",
            appId: "1:663770004335:web:e42dbd983ab9b5277bc69a"
        };
        
        const app = initializeApp(firebaseConfig);
        const db = getFirestore(app);
        window.firebaseDB = db;
        window.firebaseDoc = doc;
        window.firebaseSetDoc = setDoc;
        window.firebaseGetDoc = getDoc;
        window.firebaseGetDocs = getDocs;
        window.firebaseCollection = collection;
        window.firebaseUpdateDoc = updateDoc;
        window.firebaseDeleteDoc = deleteDoc;
        
        console.log("âœ… Firebase ÏƒÏ…Î½Î´Î­Î¸Î·ÎºÎµ!");
    </script>

    <link rel="stylesheet" href="../../css/admin/observation.css">
</head>

<body>
    <div class="container">
        <div class="header">
            <h1>ğŸ•µğŸ»â€â™‚ï¸ Î Î‘Î¡Î‘Î¤Î—Î¡Î—Î£Î•Î™Î£ GAME MASTER</h1>
            <p>Crime Festival 2025</p>
        </div>

        <div class="section session-setup" id="setupSection">
            <h2>ğŸ“‹ Î£Î¤ÎŸÎ™Î§Î•Î™Î‘ Î£Î¥ÎÎ•Î”Î¡Î™Î‘Î£</h2>
            <div class="form-row">
                <div class="form-group">
                    <label>ÎŒÎ½Î¿Î¼Î± Î Î±ÏÎ±Ï„Î·ÏÎ·Ï„Î® *</label>
                    <input type="text" id="observerName" placeholder="Î¤Î¿ ÏŒÎ½Î¿Î¼Î¬ ÏƒÎ±Ï‚">
                </div>
                <div class="form-group">
                    <label>ÎŸÎ¼Î¬Î´Î± Ï€ÏÎ¿Ï‚ Î Î±ÏÎ±Ï„Î®ÏÎ·ÏƒÎ· *</label>
                    <select id="teamSelect">
                        <option value="">Î•Ï€Î¹Î»Î­Î¾Ï„Îµ Î¿Î¼Î¬Î´Î±...</option>
                    </select>
                </div>
            </div>
            
            <div class="session-status">
                <div class="status-info">
                    <div class="status-indicator" id="statusIndicator">â¸ï¸ Î”ÎµÎ½ Î­Ï‡ÎµÎ¹ Î¾ÎµÎºÎ¹Î½Î®ÏƒÎµÎ¹</div>
                    <div class="session-timer" id="sessionTimer">00:00:00</div>
                </div>
                <button class="btn btn-primary btn-large" id="startBtn" onclick="startSession()">
                    ğŸ¬ Î•ÎÎ‘Î¡ÎÎ— Î Î‘Î¡Î‘Î¤Î—Î¡Î—Î£Î—Î£
                </button>
            </div>
        </div>

        <div id="observationInterface" style="display: none;">
            
            <div class="section quick-controls">
                <button class="btn btn-warning" onclick="pauseSession()">â¸ï¸ Î Î‘Î¥Î£Î—</button>
                <button class="btn btn-success" onclick="saveProgress()">ğŸ’¾ Î‘Î ÎŸÎ˜Î—ÎšÎ•Î¥Î£Î—</button>
                <button class="btn btn-danger" onclick="endSession()">â¹ï¸ Î¤Î•Î¡ÎœÎ‘Î¤Î™Î£ÎœÎŸÎ£</button>
            </div>

            <div class="section observation-category">
                <h2 class="category-title">ğŸ¤– Artificial Intelligence Usage Patterns</h2>
                <div class="behaviors-grid">
                    <div class="behavior-card">
                        <div class="behavior-label">Î£Ï…Ï‡Î½ÏŒÏ„Î·Ï„Î± ÎµÏÏ‰Ï„Î·Î¼Î¬Ï„Ï‰Î½ ÏƒÏ„Î¿ AI</div>
                        <div class="counter-control">
                            <button class="counter-btn" onclick="decrementBehavior('ai_queries')">âˆ’</button>
                            <span class="counter-display" id="counter_ai_queries">0</span>
                            <button class="counter-btn counter-btn-plus" onclick="incrementBehavior('ai_queries')">+</button>
                        </div>
                    </div>

                    <div class="behavior-card">
                        <div class="behavior-label">Î Î¿Î¹ÏŒÏ„Î·Ï„Î± prompts</div>
                        <div class="counter-control">
                            <button class="counter-btn" onclick="decrementBehavior('prompt_quality')">âˆ’</button>
                            <span class="counter-display" id="counter_prompt_quality">0</span>
                            <button class="counter-btn counter-btn-plus" onclick="incrementBehavior('prompt_quality')">+</button>
                        </div>
                    </div>

                    <div class="behavior-card">
                        <div class="behavior-label">Î•Ï€Î±Î»Î®Î¸ÎµÏ…ÏƒÎ· Î±Ï€Î±Î½Ï„Î®ÏƒÎµÏ‰Î½ AI</div>
                        <div class="counter-control">
                            <button class="counter-btn" onclick="decrementBehavior('ai_verification')">âˆ’</button>
                            <span class="counter-display" id="counter_ai_verification">0</span>
                            <button class="counter-btn counter-btn-plus" onclick="incrementBehavior('ai_verification')">+</button>
                        </div>
                    </div>
                </div>
            </div>

            <div class="section observation-category">
                <h2 class="category-title">ğŸ‘¥ Team Collaboration</h2>
                <div class="behaviors-grid">
                    <div class="behavior-card">
                        <div class="behavior-label">Î•Î½ÎµÏÎ³Î® ÏƒÏ…Î¶Î®Ï„Î·ÏƒÎ· Î¼ÎµÏ„Î±Î¾Ï Î¼ÎµÎ»ÏÎ½</div>
                        <div class="counter-control">
                            <button class="counter-btn" onclick="decrementBehavior('active_discussion')">âˆ’</button>
                            <span class="counter-display" id="counter_active_discussion">0</span>
                            <button class="counter-btn counter-btn-plus" onclick="incrementBehavior('active_discussion')">+</button>
                        </div>
                    </div>

                    <div class="behavior-card">
                        <div class="behavior-label">Î‘Î½Ï„Î±Î»Î»Î±Î³Î® Ï€Î»Î·ÏÎ¿Ï†Î¿ÏÎ¹ÏÎ½/ÏƒÏ„Î¿Î¹Ï‡ÎµÎ¯Ï‰Î½</div>
                        <div class="counter-control">
                            <button class="counter-btn" onclick="decrementBehavior('info_sharing')">âˆ’</button>
                            <span class="counter-display" id="counter_info_sharing">0</span>
                            <button class="counter-btn counter-btn-plus" onclick="incrementBehavior('info_sharing')">+</button>
                        </div>
                    </div>

                    <div class="behavior-card">
                        <div class="behavior-label">ÎšÎ±Ï„Î±Î¼ÎµÏÎ¹ÏƒÎ¼ÏŒÏ‚ ÎºÎ±Î¸Î·ÎºÏŒÎ½Ï„Ï‰Î½</div>
                        <div class="counter-control">
                            <button class="counter-btn" onclick="decrementBehavior('task_division')">âˆ’</button>
                            <span class="counter-display" id="counter_task_division">0</span>
                            <button class="counter-btn counter-btn-plus" onclick="incrementBehavior('task_division')">+</button>
                        </div>
                    </div>
                </div>
            </div>

            <div class="section observation-category">
                <h2 class="category-title">ğŸ§© Problem-Solving Approach</h2>
                <div class="behaviors-grid">
                    <div class="behavior-card">
                        <div class="behavior-label">Î£Ï…ÏƒÏ„Î·Î¼Î±Ï„Î¹ÎºÎ® Î±Î½Î¬Î»Ï…ÏƒÎ· ÏƒÏ„Î¿Î¹Ï‡ÎµÎ¯Ï‰Î½</div>
                        <div class="counter-control">
                            <button class="counter-btn" onclick="decrementBehavior('systematic_analysis')">âˆ’</button>
                            <span class="counter-display" id="counter_systematic_analysis">0</span>
                            <button class="counter-btn counter-btn-plus" onclick="incrementBehavior('systematic_analysis')">+</button>
                        </div>
                    </div>

                    <div class="behavior-card">
                        <div class="behavior-label">Î”Î¹Î±ÏƒÏ„Î±ÏÏÏ‰ÏƒÎ· Î±Ï€Î¿Î´ÎµÎ¹ÎºÏ„Î¹ÎºÏÎ½ ÏƒÏ„Î¿Î¹Ï‡ÎµÎ¯Ï‰Î½</div>
                        <div class="counter-control">
                            <button class="counter-btn" onclick="decrementBehavior('cross_referencing')">âˆ’</button>
                            <span class="counter-display" id="counter_cross_referencing">0</span>
                            <button class="counter-btn counter-btn-plus" onclick="incrementBehavior('cross_referencing')">+</button>
                        </div>
                    </div>

                    <div class="behavior-card">
                        <div class="behavior-label">ÎšÏÎ¹Ï„Î¹ÎºÎ® ÏƒÎºÎ­ÏˆÎ· / Î‘Î¼Ï†Î¹ÏƒÎ²Î®Ï„Î·ÏƒÎ·</div>
                        <div class="counter-control">
                            <button class="counter-btn" onclick="decrementBehavior('critical_thinking')">âˆ’</button>
                            <span class="counter-display" id="counter_critical_thinking">0</span>
                            <button class="counter-btn counter-btn-plus" onclick="incrementBehavior('critical_thinking')">+</button>
                        </div>
                    </div>
                </div>
            </div>

            <div class="section observation-category">
                <h2 class="category-title">ğŸ¯ Engagement & Motivation</h2>
                <div class="behaviors-grid">
                    <div class="behavior-card">
                        <div class="behavior-label">Î•Î½Î¸Î¿Ï…ÏƒÎ¹Î±ÏƒÎ¼ÏŒÏ‚ / Î•Î½Î­ÏÎ³ÎµÎ¹Î±</div>
                        <div class="counter-control">
                            <button class="counter-btn" onclick="decrementBehavior('enthusiasm')">âˆ’</button>
                            <span class="counter-display" id="counter_enthusiasm">0</span>
                            <button class="counter-btn counter-btn-plus" onclick="incrementBehavior('enthusiasm')">+</button>
                        </div>
                    </div>

                    <div class="behavior-card">
                        <div class="behavior-label">Î•Ï€Î¹Î¼Î¿Î½Î® Ï€Î±ÏÎ¬ Ï„Î¹Ï‚ Î´Ï…ÏƒÎºÎ¿Î»Î¯ÎµÏ‚</div>
                        <div class="counter-control">
                            <button class="counter-btn" onclick="decrementBehavior('persistence')">âˆ’</button>
                            <span class="counter-display" id="counter_persistence">0</span>
                            <button class="counter-btn counter-btn-plus" onclick="incrementBehavior('persistence')">+</button>
                        </div>
                    </div>

                    <div class="behavior-card">
                        <div class="behavior-label">Î•ÏƒÏ„Î¯Î±ÏƒÎ· / Î ÏÎ¿ÏƒÎ¿Ï‡Î®</div>
                        <div class="counter-control">
                            <button class="counter-btn" onclick="decrementBehavior('focus')">âˆ’</button>
                            <span class="counter-display" id="counter_focus">0</span>
                            <button class="counter-btn counter-btn-plus" onclick="incrementBehavior('focus')">+</button>
                        </div>
                    </div>
                </div>
            </div>

            <div class="section notes-section">
                <h2>ğŸ“ Î“Î•ÎÎ™ÎšÎ•Î£ Î£Î—ÎœÎ•Î™Î©Î£Î•Î™Î£</h2>
                <textarea id="generalNotes" placeholder="Î“ÎµÎ½Î¹ÎºÎ­Ï‚ Ï€Î±ÏÎ±Ï„Î·ÏÎ®ÏƒÎµÎ¹Ï‚ - Î Î±Ï„Î®ÏƒÏ„Îµ 'Î ÏÎ¿ÏƒÎ¸Î®ÎºÎ· Î£Î·Î¼ÎµÎ¯Ï‰ÏƒÎ·Ï‚' Î³Î¹Î± Î½Î± Î±Ï€Î¿Î¸Î·ÎºÎµÏ…Ï„ÎµÎ¯ Î¼Îµ Ï‡ÏÎ¿Î½Î¹ÎºÎ® ÏƒÎ®Î¼Î±Î½ÏƒÎ·."></textarea>
                <button class="btn btn-success" onclick="addTimestampedNote()">â• Î Î¡ÎŸÎ£Î˜Î—ÎšÎ— Î£Î—ÎœÎ•Î™Î©Î£Î—Î£</button>
                
                <div class="notes-timeline" id="notesTimeline">
                    <p class="empty-state">Î”ÎµÎ½ Ï…Ï€Î¬ÏÏ‡Î¿Ï…Î½ ÏƒÎ·Î¼ÎµÎ¹ÏÏƒÎµÎ¹Ï‚ Î±ÎºÏŒÎ¼Î±...</p>
                </div>
            </div>

            <div class="section final-actions">
                <button class="btn btn-secondary btn-large" onclick="saveDraft()">ğŸ’¾ Î‘Î ÎŸÎ˜Î—ÎšÎ•Î¥Î£Î— Î Î¡ÎŸÎ§Î•Î™Î¡ÎŸÎ¥</button>
                <button class="btn btn-success btn-large" onclick="submitObservation()">âœ… Î¥Î ÎŸÎ’ÎŸÎ›Î— Î Î‘Î¡Î‘Î¤Î—Î¡Î—Î£Î—Î£</button>
            </div>
        </div>

        <div id="autoSaveIndicator" class="auto-save-indicator">
            <span id="saveStatus">ğŸ’¾ Î‘Ï…Ï„ÏŒÎ¼Î±Ï„Î· Î±Ï€Î¿Î¸Î®ÎºÎµÏ…ÏƒÎ·</span>
        </div>
    </div>

    <script src="../../js/admin/observation.js"></script>
</body>
</html>
